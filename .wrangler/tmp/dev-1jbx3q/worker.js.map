{
  "version": 3,
  "sources": ["../../../../../../node_modules/unenv/dist/runtime/_internal/utils.mjs", "../../../../../../node_modules/unenv/dist/runtime/node/internal/perf_hooks/performance.mjs", "../../../../../../node_modules/@cloudflare/unenv-preset/dist/runtime/polyfill/performance.mjs", "../../../../../../node_modules/unenv/dist/runtime/node/console.mjs", "../../../../../../node_modules/unenv/dist/runtime/mock/noop.mjs", "../../../../../../node_modules/@cloudflare/unenv-preset/dist/runtime/node/console.mjs", "../../../../../../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-console", "../../../../../../node_modules/unenv/dist/runtime/node/internal/process/hrtime.mjs", "../../../../../../node_modules/unenv/dist/runtime/node/internal/process/process.mjs", "../../../../../../node_modules/unenv/dist/runtime/node/internal/tty/read-stream.mjs", "../../../../../../node_modules/unenv/dist/runtime/node/internal/tty/write-stream.mjs", "../../../../../../node_modules/@cloudflare/unenv-preset/dist/runtime/node/process.mjs", "../../../../../../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-process", "../../../src/worker.js", "../../../../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-3ygP7P/middleware-insertion-facade.js", "../../../../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-3ygP7P/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/miguelcaetanodias/Documents/Projects/cloudflare-booth-puzzle-do-version/.wrangler/tmp/dev-1jbx3q",
  "sourcesContent": ["/*@__NO_SIDE_EFFECTS__*/ export function rawHeaders(headers) {\n\tconst rawHeaders = [];\n\tfor (const key in headers) {\n\t\tif (Array.isArray(headers[key])) {\n\t\t\tfor (const h of headers[key]) {\n\t\t\t\trawHeaders.push(key, h);\n\t\t\t}\n\t\t} else {\n\t\t\trawHeaders.push(key, headers[key]);\n\t\t}\n\t}\n\treturn rawHeaders;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function mergeFns(...functions) {\n\treturn function(...args) {\n\t\tfor (const fn of functions) {\n\t\t\tfn(...args);\n\t\t}\n\t};\n}\n/*@__NO_SIDE_EFFECTS__*/ export function createNotImplementedError(name) {\n\treturn new Error(`[unenv] ${name} is not implemented yet!`);\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplemented(name) {\n\tconst fn = () => {\n\t\tthrow createNotImplementedError(name);\n\t};\n\treturn Object.assign(fn, { __unenv__: true });\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedAsync(name) {\n\tconst fn = notImplemented(name);\n\tfn.__promisify__ = () => notImplemented(name + \".__promisify__\");\n\tfn.native = fn;\n\treturn fn;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedClass(name) {\n\treturn class {\n\t\t__unenv__ = true;\n\t\tconstructor() {\n\t\t\tthrow new Error(`[unenv] ${name} is not implemented yet!`);\n\t\t}\n\t};\n}\n", "import { createNotImplementedError } from \"../../../_internal/utils.mjs\";\nconst _timeOrigin = globalThis.performance?.timeOrigin ?? Date.now();\nconst _performanceNow = globalThis.performance?.now ? globalThis.performance.now.bind(globalThis.performance) : () => Date.now() - _timeOrigin;\nconst nodeTiming = {\n\tname: \"node\",\n\tentryType: \"node\",\n\tstartTime: 0,\n\tduration: 0,\n\tnodeStart: 0,\n\tv8Start: 0,\n\tbootstrapComplete: 0,\n\tenvironment: 0,\n\tloopStart: 0,\n\tloopExit: 0,\n\tidleTime: 0,\n\tuvMetricsInfo: {\n\t\tloopCount: 0,\n\t\tevents: 0,\n\t\teventsWaiting: 0\n\t},\n\tdetail: undefined,\n\ttoJSON() {\n\t\treturn this;\n\t}\n};\nexport class PerformanceEntry {\n\t__unenv__ = true;\n\tdetail;\n\tentryType = \"event\";\n\tname;\n\tstartTime;\n\tconstructor(name, options) {\n\t\tthis.name = name;\n\t\tthis.startTime = options?.startTime || _performanceNow();\n\t\tthis.detail = options?.detail;\n\t}\n\tget duration() {\n\t\treturn _performanceNow() - this.startTime;\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tentryType: this.entryType,\n\t\t\tstartTime: this.startTime,\n\t\t\tduration: this.duration,\n\t\t\tdetail: this.detail\n\t\t};\n\t}\n}\nexport const PerformanceMark = class PerformanceMark extends PerformanceEntry {\n\tentryType = \"mark\";\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\tget duration() {\n\t\treturn 0;\n\t}\n};\nexport class PerformanceMeasure extends PerformanceEntry {\n\tentryType = \"measure\";\n}\nexport class PerformanceResourceTiming extends PerformanceEntry {\n\tentryType = \"resource\";\n\tserverTiming = [];\n\tconnectEnd = 0;\n\tconnectStart = 0;\n\tdecodedBodySize = 0;\n\tdomainLookupEnd = 0;\n\tdomainLookupStart = 0;\n\tencodedBodySize = 0;\n\tfetchStart = 0;\n\tinitiatorType = \"\";\n\tname = \"\";\n\tnextHopProtocol = \"\";\n\tredirectEnd = 0;\n\tredirectStart = 0;\n\trequestStart = 0;\n\tresponseEnd = 0;\n\tresponseStart = 0;\n\tsecureConnectionStart = 0;\n\tstartTime = 0;\n\ttransferSize = 0;\n\tworkerStart = 0;\n\tresponseStatus = 0;\n}\nexport class PerformanceObserverEntryList {\n\t__unenv__ = true;\n\tgetEntries() {\n\t\treturn [];\n\t}\n\tgetEntriesByName(_name, _type) {\n\t\treturn [];\n\t}\n\tgetEntriesByType(type) {\n\t\treturn [];\n\t}\n}\nexport class Performance {\n\t__unenv__ = true;\n\ttimeOrigin = _timeOrigin;\n\teventCounts = new Map();\n\t_entries = [];\n\t_resourceTimingBufferSize = 0;\n\tnavigation = undefined;\n\ttiming = undefined;\n\ttimerify(_fn, _options) {\n\t\tthrow createNotImplementedError(\"Performance.timerify\");\n\t}\n\tget nodeTiming() {\n\t\treturn nodeTiming;\n\t}\n\teventLoopUtilization() {\n\t\treturn {};\n\t}\n\tmarkResourceTiming() {\n\t\treturn new PerformanceResourceTiming(\"\");\n\t}\n\tonresourcetimingbufferfull = null;\n\tnow() {\n\t\tif (this.timeOrigin === _timeOrigin) {\n\t\t\treturn _performanceNow();\n\t\t}\n\t\treturn Date.now() - this.timeOrigin;\n\t}\n\tclearMarks(markName) {\n\t\tthis._entries = markName ? this._entries.filter((e) => e.name !== markName) : this._entries.filter((e) => e.entryType !== \"mark\");\n\t}\n\tclearMeasures(measureName) {\n\t\tthis._entries = measureName ? this._entries.filter((e) => e.name !== measureName) : this._entries.filter((e) => e.entryType !== \"measure\");\n\t}\n\tclearResourceTimings() {\n\t\tthis._entries = this._entries.filter((e) => e.entryType !== \"resource\" || e.entryType !== \"navigation\");\n\t}\n\tgetEntries() {\n\t\treturn this._entries;\n\t}\n\tgetEntriesByName(name, type) {\n\t\treturn this._entries.filter((e) => e.name === name && (!type || e.entryType === type));\n\t}\n\tgetEntriesByType(type) {\n\t\treturn this._entries.filter((e) => e.entryType === type);\n\t}\n\tmark(name, options) {\n\t\tconst entry = new PerformanceMark(name, options);\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tmeasure(measureName, startOrMeasureOptions, endMark) {\n\t\tlet start;\n\t\tlet end;\n\t\tif (typeof startOrMeasureOptions === \"string\") {\n\t\t\tstart = this.getEntriesByName(startOrMeasureOptions, \"mark\")[0]?.startTime;\n\t\t\tend = this.getEntriesByName(endMark, \"mark\")[0]?.startTime;\n\t\t} else {\n\t\t\tstart = Number.parseFloat(startOrMeasureOptions?.start) || this.now();\n\t\t\tend = Number.parseFloat(startOrMeasureOptions?.end) || this.now();\n\t\t}\n\t\tconst entry = new PerformanceMeasure(measureName, {\n\t\t\tstartTime: start,\n\t\t\tdetail: {\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t}\n\t\t});\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tsetResourceTimingBufferSize(maxSize) {\n\t\tthis._resourceTimingBufferSize = maxSize;\n\t}\n\taddEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.addEventListener\");\n\t}\n\tremoveEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.removeEventListener\");\n\t}\n\tdispatchEvent(event) {\n\t\tthrow createNotImplementedError(\"Performance.dispatchEvent\");\n\t}\n\ttoJSON() {\n\t\treturn this;\n\t}\n}\nexport class PerformanceObserver {\n\t__unenv__ = true;\n\tstatic supportedEntryTypes = [];\n\t_callback = null;\n\tconstructor(callback) {\n\t\tthis._callback = callback;\n\t}\n\ttakeRecords() {\n\t\treturn [];\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.disconnect\");\n\t}\n\tobserve(options) {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.observe\");\n\t}\n\tbind(fn) {\n\t\treturn fn;\n\t}\n\trunInAsyncScope(fn, thisArg, ...args) {\n\t\treturn fn.call(thisArg, ...args);\n\t}\n\tasyncId() {\n\t\treturn 0;\n\t}\n\ttriggerAsyncId() {\n\t\treturn 0;\n\t}\n\temitDestroy() {\n\t\treturn this;\n\t}\n}\nexport const performance = globalThis.performance && \"addEventListener\" in globalThis.performance ? globalThis.performance : new Performance();\n", "import {\n  performance,\n  Performance,\n  PerformanceEntry,\n  PerformanceMark,\n  PerformanceMeasure,\n  PerformanceObserver,\n  PerformanceObserverEntryList,\n  PerformanceResourceTiming\n} from \"node:perf_hooks\";\nglobalThis.performance = performance;\nglobalThis.Performance = Performance;\nglobalThis.PerformanceEntry = PerformanceEntry;\nglobalThis.PerformanceMark = PerformanceMark;\nglobalThis.PerformanceMeasure = PerformanceMeasure;\nglobalThis.PerformanceObserver = PerformanceObserver;\nglobalThis.PerformanceObserverEntryList = PerformanceObserverEntryList;\nglobalThis.PerformanceResourceTiming = PerformanceResourceTiming;\n", "import { Writable } from \"node:stream\";\nimport noop from \"../mock/noop.mjs\";\nimport { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\nconst _console = globalThis.console;\nexport const _ignoreErrors = true;\nexport const _stderr = new Writable();\nexport const _stdout = new Writable();\nexport const log = _console?.log ?? noop;\nexport const info = _console?.info ?? log;\nexport const trace = _console?.trace ?? info;\nexport const debug = _console?.debug ?? log;\nexport const table = _console?.table ?? log;\nexport const error = _console?.error ?? log;\nexport const warn = _console?.warn ?? error;\nexport const createTask = _console?.createTask ?? /*@__PURE__*/ notImplemented(\"console.createTask\");\nexport const assert = /*@__PURE__*/ notImplemented(\"console.assert\");\nexport const clear = _console?.clear ?? noop;\nexport const count = _console?.count ?? noop;\nexport const countReset = _console?.countReset ?? noop;\nexport const dir = _console?.dir ?? noop;\nexport const dirxml = _console?.dirxml ?? noop;\nexport const group = _console?.group ?? noop;\nexport const groupEnd = _console?.groupEnd ?? noop;\nexport const groupCollapsed = _console?.groupCollapsed ?? noop;\nexport const profile = _console?.profile ?? noop;\nexport const profileEnd = _console?.profileEnd ?? noop;\nexport const time = _console?.time ?? noop;\nexport const timeEnd = _console?.timeEnd ?? noop;\nexport const timeLog = _console?.timeLog ?? noop;\nexport const timeStamp = _console?.timeStamp ?? noop;\nexport const Console = _console?.Console ?? /*@__PURE__*/ notImplementedClass(\"console.Console\");\nexport const _times = /*@__PURE__*/ new Map();\nexport function context() {\n\treturn _console;\n}\nexport const _stdoutErrorHandler = noop;\nexport const _stderrErrorHandler = noop;\nexport default {\n\t_times,\n\t_ignoreErrors,\n\t_stdoutErrorHandler,\n\t_stderrErrorHandler,\n\t_stdout,\n\t_stderr,\n\tassert,\n\tclear,\n\tConsole,\n\tcount,\n\tcountReset,\n\tdebug,\n\tdir,\n\tdirxml,\n\terror,\n\tcontext,\n\tcreateTask,\n\tgroup,\n\tgroupEnd,\n\tgroupCollapsed,\n\tinfo,\n\tlog,\n\tprofile,\n\tprofileEnd,\n\ttable,\n\ttime,\n\ttimeEnd,\n\ttimeLog,\n\ttimeStamp,\n\ttrace,\n\twarn\n};\n", "export default Object.assign(() => {}, { __unenv__: true });\n", "import {\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times,\n  Console\n} from \"unenv/node/console\";\nexport {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n} from \"unenv/node/console\";\nconst workerdConsole = globalThis[\"console\"];\nexport const {\n  assert,\n  clear,\n  // @ts-expect-error undocumented public API\n  context,\n  count,\n  countReset,\n  // @ts-expect-error undocumented public API\n  createTask,\n  debug,\n  dir,\n  dirxml,\n  error,\n  group,\n  groupCollapsed,\n  groupEnd,\n  info,\n  log,\n  profile,\n  profileEnd,\n  table,\n  time,\n  timeEnd,\n  timeLog,\n  timeStamp,\n  trace,\n  warn\n} = workerdConsole;\nObject.assign(workerdConsole, {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n});\nexport default workerdConsole;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/console\";\nglobalThis.console = defaultExport;", "export const hrtime = /*@__PURE__*/ Object.assign(function hrtime(startTime) {\n\tconst now = Date.now();\n\tconst seconds = Math.trunc(now / 1e3);\n\tconst nanos = now % 1e3 * 1e6;\n\tif (startTime) {\n\t\tlet diffSeconds = seconds - startTime[0];\n\t\tlet diffNanos = nanos - startTime[0];\n\t\tif (diffNanos < 0) {\n\t\t\tdiffSeconds = diffSeconds - 1;\n\t\t\tdiffNanos = 1e9 + diffNanos;\n\t\t}\n\t\treturn [diffSeconds, diffNanos];\n\t}\n\treturn [seconds, nanos];\n}, { bigint: function bigint() {\n\treturn BigInt(Date.now() * 1e6);\n} });\n", "import { EventEmitter } from \"node:events\";\nimport { ReadStream, WriteStream } from \"node:tty\";\nimport { notImplemented, createNotImplementedError } from \"../../../_internal/utils.mjs\";\nexport class Process extends EventEmitter {\n\tenv;\n\thrtime;\n\tnextTick;\n\tconstructor(impl) {\n\t\tsuper();\n\t\tthis.env = impl.env;\n\t\tthis.hrtime = impl.hrtime;\n\t\tthis.nextTick = impl.nextTick;\n\t\tfor (const prop of [...Object.getOwnPropertyNames(Process.prototype), ...Object.getOwnPropertyNames(EventEmitter.prototype)]) {\n\t\t\tconst value = this[prop];\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tthis[prop] = value.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\temitWarning(warning, type, code) {\n\t\tconsole.warn(`${code ? `[${code}] ` : \"\"}${type ? `${type}: ` : \"\"}${warning}`);\n\t}\n\temit(...args) {\n\t\treturn super.emit(...args);\n\t}\n\tlisteners(eventName) {\n\t\treturn super.listeners(eventName);\n\t}\n\t#stdin;\n\t#stdout;\n\t#stderr;\n\tget stdin() {\n\t\treturn this.#stdin ??= new ReadStream(0);\n\t}\n\tget stdout() {\n\t\treturn this.#stdout ??= new WriteStream(1);\n\t}\n\tget stderr() {\n\t\treturn this.#stderr ??= new WriteStream(2);\n\t}\n\t#cwd = \"/\";\n\tchdir(cwd) {\n\t\tthis.#cwd = cwd;\n\t}\n\tcwd() {\n\t\treturn this.#cwd;\n\t}\n\tarch = \"\";\n\tplatform = \"\";\n\targv = [];\n\targv0 = \"\";\n\texecArgv = [];\n\texecPath = \"\";\n\ttitle = \"\";\n\tpid = 200;\n\tppid = 100;\n\tget version() {\n\t\treturn \"\";\n\t}\n\tget versions() {\n\t\treturn {};\n\t}\n\tget allowedNodeEnvironmentFlags() {\n\t\treturn new Set();\n\t}\n\tget sourceMapsEnabled() {\n\t\treturn false;\n\t}\n\tget debugPort() {\n\t\treturn 0;\n\t}\n\tget throwDeprecation() {\n\t\treturn false;\n\t}\n\tget traceDeprecation() {\n\t\treturn false;\n\t}\n\tget features() {\n\t\treturn {};\n\t}\n\tget release() {\n\t\treturn {};\n\t}\n\tget connected() {\n\t\treturn false;\n\t}\n\tget config() {\n\t\treturn {};\n\t}\n\tget moduleLoadList() {\n\t\treturn [];\n\t}\n\tconstrainedMemory() {\n\t\treturn 0;\n\t}\n\tavailableMemory() {\n\t\treturn 0;\n\t}\n\tuptime() {\n\t\treturn 0;\n\t}\n\tresourceUsage() {\n\t\treturn {};\n\t}\n\tref() {}\n\tunref() {}\n\tumask() {\n\t\tthrow createNotImplementedError(\"process.umask\");\n\t}\n\tgetBuiltinModule() {\n\t\treturn undefined;\n\t}\n\tgetActiveResourcesInfo() {\n\t\tthrow createNotImplementedError(\"process.getActiveResourcesInfo\");\n\t}\n\texit() {\n\t\tthrow createNotImplementedError(\"process.exit\");\n\t}\n\treallyExit() {\n\t\tthrow createNotImplementedError(\"process.reallyExit\");\n\t}\n\tkill() {\n\t\tthrow createNotImplementedError(\"process.kill\");\n\t}\n\tabort() {\n\t\tthrow createNotImplementedError(\"process.abort\");\n\t}\n\tdlopen() {\n\t\tthrow createNotImplementedError(\"process.dlopen\");\n\t}\n\tsetSourceMapsEnabled() {\n\t\tthrow createNotImplementedError(\"process.setSourceMapsEnabled\");\n\t}\n\tloadEnvFile() {\n\t\tthrow createNotImplementedError(\"process.loadEnvFile\");\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"process.disconnect\");\n\t}\n\tcpuUsage() {\n\t\tthrow createNotImplementedError(\"process.cpuUsage\");\n\t}\n\tsetUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.setUncaughtExceptionCaptureCallback\");\n\t}\n\thasUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.hasUncaughtExceptionCaptureCallback\");\n\t}\n\tinitgroups() {\n\t\tthrow createNotImplementedError(\"process.initgroups\");\n\t}\n\topenStdin() {\n\t\tthrow createNotImplementedError(\"process.openStdin\");\n\t}\n\tassert() {\n\t\tthrow createNotImplementedError(\"process.assert\");\n\t}\n\tbinding() {\n\t\tthrow createNotImplementedError(\"process.binding\");\n\t}\n\tpermission = { has: /*@__PURE__*/ notImplemented(\"process.permission.has\") };\n\treport = {\n\t\tdirectory: \"\",\n\t\tfilename: \"\",\n\t\tsignal: \"SIGUSR2\",\n\t\tcompact: false,\n\t\treportOnFatalError: false,\n\t\treportOnSignal: false,\n\t\treportOnUncaughtException: false,\n\t\tgetReport: /*@__PURE__*/ notImplemented(\"process.report.getReport\"),\n\t\twriteReport: /*@__PURE__*/ notImplemented(\"process.report.writeReport\")\n\t};\n\tfinalization = {\n\t\tregister: /*@__PURE__*/ notImplemented(\"process.finalization.register\"),\n\t\tunregister: /*@__PURE__*/ notImplemented(\"process.finalization.unregister\"),\n\t\tregisterBeforeExit: /*@__PURE__*/ notImplemented(\"process.finalization.registerBeforeExit\")\n\t};\n\tmemoryUsage = Object.assign(() => ({\n\t\tarrayBuffers: 0,\n\t\trss: 0,\n\t\texternal: 0,\n\t\theapTotal: 0,\n\t\theapUsed: 0\n\t}), { rss: () => 0 });\n\tmainModule = undefined;\n\tdomain = undefined;\n\tsend = undefined;\n\texitCode = undefined;\n\tchannel = undefined;\n\tgetegid = undefined;\n\tgeteuid = undefined;\n\tgetgid = undefined;\n\tgetgroups = undefined;\n\tgetuid = undefined;\n\tsetegid = undefined;\n\tseteuid = undefined;\n\tsetgid = undefined;\n\tsetgroups = undefined;\n\tsetuid = undefined;\n\t_events = undefined;\n\t_eventsCount = undefined;\n\t_exiting = undefined;\n\t_maxListeners = undefined;\n\t_debugEnd = undefined;\n\t_debugProcess = undefined;\n\t_fatalException = undefined;\n\t_getActiveHandles = undefined;\n\t_getActiveRequests = undefined;\n\t_kill = undefined;\n\t_preload_modules = undefined;\n\t_rawDebug = undefined;\n\t_startProfilerIdleNotifier = undefined;\n\t_stopProfilerIdleNotifier = undefined;\n\t_tickCallback = undefined;\n\t_disconnect = undefined;\n\t_handleQueue = undefined;\n\t_pendingMessage = undefined;\n\t_channel = undefined;\n\t_send = undefined;\n\t_linkedBinding = undefined;\n}\n", "import { Socket } from \"node:net\";\nexport class ReadStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tisRaw = false;\n\tsetRawMode(mode) {\n\t\tthis.isRaw = mode;\n\t\treturn this;\n\t}\n\tisTTY = false;\n}\n", "import { Socket } from \"node:net\";\nexport class WriteStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tclearLine(dir, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tclearScreenDown(callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tcursorTo(x, y, callback) {\n\t\tcallback && typeof callback === \"function\" && callback();\n\t\treturn false;\n\t}\n\tmoveCursor(dx, dy, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tgetColorDepth(env) {\n\t\treturn 1;\n\t}\n\thasColors(count, env) {\n\t\treturn false;\n\t}\n\tgetWindowSize() {\n\t\treturn [this.columns, this.rows];\n\t}\n\tcolumns = 80;\n\trows = 24;\n\tisTTY = false;\n}\n", "import { hrtime as UnenvHrTime } from \"unenv/node/internal/process/hrtime\";\nimport { Process as UnenvProcess } from \"unenv/node/internal/process/process\";\nconst globalProcess = globalThis[\"process\"];\nexport const getBuiltinModule = globalProcess.getBuiltinModule;\nexport const { exit, platform, nextTick } = getBuiltinModule(\n  \"node:process\"\n);\nconst unenvProcess = new UnenvProcess({\n  env: globalProcess.env,\n  hrtime: UnenvHrTime,\n  nextTick\n});\nexport const {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  finalization,\n  features,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  on,\n  off,\n  once,\n  pid,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n} = unenvProcess;\nconst _process = {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  exit,\n  finalization,\n  features,\n  getBuiltinModule,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  nextTick,\n  on,\n  off,\n  once,\n  pid,\n  platform,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  // @ts-expect-error old API\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n};\nexport default _process;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/process\";\nglobalThis.process = defaultExport;", "// Durable Objects: Conference registry lists and per-conference state\nexport class RegistryDO {\n  constructor(state, env) {\n    this.state = state;\n    this.env = env;\n  }\n\n  async fetch(request) {\n    const url = new URL(request.url);\n    const method = request.method;\n    if (url.pathname === '/list' && method === 'GET') {\n      const list = await this.state.storage.list({ prefix: 'conf:' });\n      const ids = [];\n      for (const [key, name] of list) {\n        const id = key.replace(/^conf:/, '');\n        ids.push({ id, name });\n      }\n      return new Response(JSON.stringify(ids), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/exists' && method === 'GET') {\n      const id = url.searchParams.get('id');\n      const exists = !!(await this.state.storage.get('conf:' + id));\n      return new Response(JSON.stringify({ exists }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/add' && method === 'POST') {\n      const { id, name } = await request.json();\n      const exists = await this.state.storage.get('conf:' + id);\n      if (exists) return new Response('Conflict', { status: 409 });\n      await this.state.storage.put('conf:' + id, name || id);\n      return new Response(JSON.stringify({ ok: true }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/remove' && method === 'POST') {\n      const { id } = await request.json();\n      await this.state.storage.delete('conf:' + id);\n      return new Response(JSON.stringify({ ok: true }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    return new Response('Not Found', { status: 404 });\n  }\n}\n\nexport class ConferenceDO {\n  constructor(state, env) {\n    this.state = state;\n    this.env = env;\n  }\n\n  async fetch(request) {\n    const url = new URL(request.url);\n    const method = request.method;\n    if (url.pathname === '/get' && method === 'GET') {\n      const conference = await this.state.storage.get('conference');\n      if (!conference) return new Response('Not Found', { status: 404 });\n      return new Response(JSON.stringify(conference), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/create' && method === 'POST') {\n      const { id, name, puzzle, created } = await request.json();\n      const existing = await this.state.storage.get('conference');\n      if (existing) return new Response('Conflict', { status: 409 });\n      const conference = { id, name, puzzle, active: true, created };\n      await this.state.storage.put('conference', conference);\n      await this.state.storage.delete('display-mode');\n      const subs = await this.state.storage.list({ prefix: 'submission:' });\n      for (const [k] of subs) await this.state.storage.delete(k);\n      return new Response(JSON.stringify(conference), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/reshuffle' && method === 'POST') {\n      const conf = await this.state.storage.get('conference');\n      if (!conf) return new Response('Not Found', { status: 404 });\n      const { puzzle } = await request.json();\n      conf.puzzle = puzzle;\n      await this.state.storage.put('conference', conf);\n      const subs = await this.state.storage.list({ prefix: 'submission:' });\n      for (const [k] of subs) await this.state.storage.delete(k);\n      return new Response(JSON.stringify(conf), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/finish' && method === 'POST') {\n      const conf = await this.state.storage.get('conference');\n      if (!conf) return new Response('Not Found', { status: 404 });\n      conf.active = false;\n      await this.state.storage.put('conference', conf);\n      return new Response(JSON.stringify(conf), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/reopen' && method === 'POST') {\n      const conf = await this.state.storage.get('conference');\n      if (!conf) return new Response('Not Found', { status: 404 });\n      conf.active = true;\n      conf.winner = null;\n      delete conf.ended;\n      conf.reopened = new Date().toISOString();\n      await this.state.storage.put('conference', conf);\n      await this.state.storage.delete('display-mode');\n      return new Response(JSON.stringify({ ok: true }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/submit' && method === 'POST') {\n      const { name, email, answer } = await request.json();\n      const conf = await this.state.storage.get('conference');\n      if (!conf) return new Response('Conference not found', { status: 404 });\n      if (!conf.active) return new Response('Contest has ended', { status: 400 });\n      const isCorrect = JSON.stringify(answer) === JSON.stringify(conf.puzzle.solution);\n      const submission = {\n        id: crypto.randomUUID(),\n        conferenceId: conf.id,\n        answer,\n        name,\n        email,\n        correct: isCorrect,\n        timestamp: new Date().toISOString()\n      };\n      await this.state.storage.put('submission:' + submission.id, submission);\n      return new Response(JSON.stringify({ success: true, correct: isCorrect }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/submission-count' && method === 'GET') {\n      const subs = await this.state.storage.list({ prefix: 'submission:' });\n      let count = 0, correctCount = 0;\n      for (const [, v] of subs) {\n        count++;\n        if (v && v.correct) correctCount++;\n      }\n      return new Response(JSON.stringify({ count, correctCount }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/submissions' && method === 'GET') {\n      const subs = await this.state.storage.list({ prefix: 'submission:' });\n      const submissions = [];\n      for (const [, v] of subs) submissions.push(v);\n      submissions.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n      return new Response(JSON.stringify(submissions), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/set-mode' && method === 'POST') {\n      const { mode } = await request.json();\n      if (mode) await this.state.storage.put('display-mode', mode);\n      else await this.state.storage.delete('display-mode');\n      return new Response(JSON.stringify({ ok: true }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/get-mode' && method === 'GET') {\n      const mode = await this.state.storage.get('display-mode');\n      return new Response(JSON.stringify({ mode: mode || 'puzzle' }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    if (url.pathname === '/end-contest' && method === 'POST') {\n      const { winner } = await request.json();\n      const conf = await this.state.storage.get('conference');\n      if (!conf) return new Response('Conference not found', { status: 404 });\n      conf.winner = winner;\n      conf.active = false;\n      conf.ended = new Date().toISOString();\n      await this.state.storage.put('conference', conf);\n      await this.state.storage.put('display-mode', 'ended');\n      return new Response(JSON.stringify({ success: true }), { headers: { 'Content-Type': 'application/json' } });\n    }\n    return new Response('Not Found', { status: 404 });\n  }\n}\n\n// Helper function to get Service Token headers for internal API calls\nfunction getServiceTokenHeaders(env) {\n  return {\n    'CF-Access-Client-Id': env.CF_ACCESS_CLIENT_ID,\n    'CF-Access-Client-Secret': env.CF_ACCESS_CLIENT_SECRET,\n    'Content-Type': 'application/json'\n  };\n}\n\nfunction getRegistryStub(env) {\n  const id = env.REGISTRY.idFromName('registry');\n  return env.REGISTRY.get(id);\n}\n\nfunction getConferenceStub(env, conferenceId) {\n  const id = env.CONFERENCE_DO.idFromName(conferenceId);\n  return env.CONFERENCE_DO.get(id);\n}\n\nexport default {\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n    const path = url.pathname;\n\n    const corsHeaders = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n    };\n\n    if (request.method === 'OPTIONS') {\n      return new Response(null, { headers: corsHeaders });\n    }\n\n    try {\n      if (path === '/' || path === '/puzzle') {\n        // Check if we should display winner wheel instead\n        const conferenceId = url.searchParams.get('conference');\n        if (conferenceId) {\n          const modeResp = await getConferenceStub(env, conferenceId).fetch('https://do/get-mode');\n          const { mode: displayMode } = modeResp.ok ? await modeResp.json() : { mode: 'puzzle' };\n          if (displayMode === 'winner') {\n            return handleWinnerWheel(url, env);\n          }\n        }\n        return handlePuzzleDisplay(url, env);\n      } else if (path === '/admin') {\n        return handleAdminUI(env);\n      } else if (path === '/winner') {\n        return handleWinnerWheel(url, env);\n      } else if (path === '/submit') {\n        return handleSubmitForm(url, env);\n      } else if (url.pathname === '/api/submit') {\n        return handleAPI(request, env, corsHeaders);\n      }\n\n      if (url.pathname === '/api/finish-contest') {\n        return handleFinishContest(request, env);\n      }\n\n      if (url.pathname === '/api/end-contest') {\n        return handleEndContest(request, env);\n      }\n\n\n      if (path.startsWith('/api/')) {\n        return handleAPI(request, env, corsHeaders);\n      } else {\n        return new Response('Not Found', { status: 404 });\n      }\n    } catch (error) {\n      console.error('Worker error:', error);\n      return new Response('Internal Server Error', { status: 500 });\n    }\n  }\n};\n\nfunction generatePuzzle() {\n  // Generate solution with unique digits\n  const solution = [];\n  while (solution.length < 3) {\n    const digit = Math.floor(Math.random() * 10);\n    if (!solution.includes(digit)) {\n      solution.push(digit);\n    }\n  }\n\n  const availableDigits = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].filter(d => !solution.includes(d));\n\n  // Generate clue 1: One number correct but wrongly placed\n  let clue1;\n  do {\n    clue1 = [];\n    const solutionDigit = solution[Math.floor(Math.random() * 3)];\n    let wrongPos;\n    do {\n      wrongPos = Math.floor(Math.random() * 3);\n    } while (solution[wrongPos] === solutionDigit);\n    clue1[wrongPos] = solutionDigit;\n\n    // Fill other positions with non-solution digits\n    for (let i = 0; i < 3; i++) {\n      if (i !== wrongPos) {\n        clue1[i] = availableDigits[Math.floor(Math.random() * availableDigits.length)];\n      }\n    }\n  } while (clue1.some((num, idx) => num === solution[idx]) ||\n           clue1.filter(num => solution.includes(num)).length !== 1);\n\n  // Generate clue 2: One number correct but wrongly placed\n  let clue2;\n  do {\n    clue2 = [];\n    const solutionDigit = solution[Math.floor(Math.random() * 3)];\n    let wrongPos;\n    do {\n      wrongPos = Math.floor(Math.random() * 3);\n    } while (solution[wrongPos] === solutionDigit);\n    clue2[wrongPos] = solutionDigit;\n\n    // Fill other positions with non-solution digits\n    for (let i = 0; i < 3; i++) {\n      if (i !== wrongPos) {\n        clue2[i] = availableDigits[Math.floor(Math.random() * availableDigits.length)];\n      }\n    }\n  } while (clue2.some((num, idx) => num === solution[idx]) ||\n           clue2.filter(num => solution.includes(num)).length !== 1 ||\n           JSON.stringify(clue2) === JSON.stringify(clue1));\n\n  // Generate clue 3: Two numbers correct and well placed\n  let clue3;\n  do {\n    clue3 = [];\n    const positions = [0, 1, 2];\n    const selectedPositions = [];\n\n    // Select 2 random positions\n    for (let i = 0; i < 2; i++) {\n      const posIndex = Math.floor(Math.random() * positions.length);\n      selectedPositions.push(positions.splice(posIndex, 1)[0]);\n    }\n\n    // Place solution digits in correct positions\n    selectedPositions.forEach(pos => {\n      clue3[pos] = solution[pos];\n    });\n\n    // Fill remaining position with non-solution digit\n    for (let i = 0; i < 3; i++) {\n      if (clue3[i] === undefined) {\n        clue3[i] = availableDigits[Math.floor(Math.random() * availableDigits.length)];\n      }\n    }\n  } while (clue3.filter((num, idx) => num === solution[idx]).length !== 2 ||\n           clue3.filter(num => solution.includes(num)).length !== 2);\n\n  // Generate clue 4: Two numbers correct but wrongly placed\n  let clue4;\n  do {\n    clue4 = [];\n    const solutionDigits = [...solution];\n    const usedPositions = [];\n\n    // Place two solution digits in wrong positions\n    for (let i = 0; i < 2; i++) {\n      const digitIndex = Math.floor(Math.random() * solutionDigits.length);\n      const digit = solutionDigits.splice(digitIndex, 1)[0];\n      let pos;\n      do {\n        pos = Math.floor(Math.random() * 3);\n      } while (usedPositions.includes(pos) || solution[pos] === digit);\n      clue4[pos] = digit;\n      usedPositions.push(pos);\n    }\n\n    // Fill remaining position with non-solution digit\n    for (let i = 0; i < 3; i++) {\n      if (clue4[i] === undefined) {\n        clue4[i] = availableDigits[Math.floor(Math.random() * availableDigits.length)];\n      }\n    }\n  } while (clue4.some((num, idx) => num === solution[idx]) ||\n           clue4.filter(num => solution.includes(num)).length !== 2);\n\n  // Generate clue 5: Nothing is correct\n  let clue5;\n  do {\n    clue5 = [];\n    for (let i = 0; i < 3; i++) {\n      clue5[i] = availableDigits[Math.floor(Math.random() * availableDigits.length)];\n    }\n  } while (clue5.some(num => solution.includes(num)));\n\n  return {\n    solution,\n    clues: [\n      { numbers: clue1, hint: \"One number is correct but wrongly placed\" },\n      { numbers: clue2, hint: \"One number is correct but wrongly placed\" },\n      { numbers: clue3, hint: \"Two numbers are correct and well placed\" },\n      { numbers: clue4, hint: \"Two numbers are correct but wrongly placed\" },\n      { numbers: clue5, hint: \"Nothing is correct\" }\n    ]\n  };\n}\n\nasync function handlePuzzleDisplay(url, env) {\n  const conferenceId = url.searchParams.get('conference') || 'default';\n\n  // Check if display should show winner wheel instead\n  const modeResp = await getConferenceStub(env, conferenceId).fetch('https://do/get-mode');\n  const { mode: displayMode } = modeResp.ok ? await modeResp.json() : { mode: 'puzzle' };\n  if (displayMode === 'winner') {\n    return handleWinnerWheel(url, env);\n  }\n\n  // Ensure conference exists or create a default one\n  let confResp = await getConferenceStub(env, conferenceId).fetch('https://do/get');\n  let conference;\n  if (!confResp.ok) {\n    const defaultPuzzle = generatePuzzle();\n    const newConf = {\n      id: conferenceId,\n      name: conferenceId === 'default' ? 'Default Conference' : conferenceId,\n      puzzle: defaultPuzzle,\n      created: new Date().toISOString()\n    };\n    await getConferenceStub(env, conferenceId).fetch('https://do/create', { method: 'POST', body: JSON.stringify(newConf) });\n    await getRegistryStub(env).fetch('https://do/add', { method: 'POST', body: JSON.stringify({ id: conferenceId, name: newConf.name }) });\n    confResp = await getConferenceStub(env, conferenceId).fetch('https://do/get');\n  }\n  conference = confResp.ok ? await confResp.json() : null;\n\n  if (!conference) {\n    return new Response('Failed to create or retrieve conference', { status: 500 });\n  }\n\n  const clueRows = conference.puzzle.clues.map(clue => {\n    const numberBoxes = clue.numbers.map(num => '<div class=\"number-box\">' + num + '</div>').join('');\n    return '<div class=\"clue-row\"><div class=\"number-boxes\">' + numberBoxes + '</div><div class=\"clue-text\">' + clue.hint + '</div></div>';\n  }).join('');\n\n  const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${conference.name} - Crack the Code</title>\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"https://r2.lusostreams.com/puzzleicon.ico\">\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n\n        body {\n            font-family: 'Arial', sans-serif;\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            min-height: 100vh;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            padding: 20px;\n            overflow-y: auto;\n        }\n\n        .puzzle-container {\n            background: white;\n            border-radius: 20px;\n            padding: 30px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n            max-width: 500px;\n            width: 100%;\n            text-align: center;\n            margin: 10px 0;\n            min-height: fit-content;\n        }\n\n        /* 9:16 Portrait Layout (Default) - Optimized for 1080p and 4K */\n        @media screen and (orientation: portrait) {\n            body {\n                padding: 1vh 2vw;\n            }\n\n            .puzzle-container {\n                max-width: 96vw;\n                width: 100%;\n                padding: 1.5vh 3vw;\n                margin: 0;\n                max-height: 98vh;\n                overflow-y: auto;\n            }\n\n            .header {\n                margin-bottom: 1.5vh;\n                padding: 1.5vh;\n            }\n\n            .header h1 {\n                font-size: clamp(1.2rem, 3vw, 1.6rem);\n                margin-bottom: 0.3vh;\n                line-height: 1.1;\n            }\n\n            .header .subtitle {\n                font-size: clamp(1.8rem, 5vw, 2.4rem);\n                font-weight: bold;\n                margin-top: 0.5vh;\n            }\n\n            .clue-row {\n                margin: 2vh 0;\n                padding: 3vh 2vw;\n                flex-direction: row;\n                text-align: left;\n                align-items: center;\n                min-height: 10vh;\n            }\n\n            .number-boxes {\n                margin-right: 3vw;\n                margin-bottom: 0;\n                justify-content: flex-start;\n                flex-shrink: 0;\n            }\n\n            .number-box {\n                width: clamp(60px, 12vw, 80px);\n                height: clamp(60px, 12vw, 80px);\n                font-size: clamp(1.8rem, 5vw, 2.8rem);\n            }\n\n            .clue-text {\n                text-align: left;\n                font-size: clamp(1.8rem, 5.2vw, 2.6rem);\n                flex: 1;\n                line-height: 1.2;\n                font-weight: 500;\n            }\n\n            .solution-section {\n                margin: 1.5vh 0;\n                padding: 1.5vh;\n            }\n\n            .solution-box {\n                width: clamp(55px, 14vw, 80px);\n                height: clamp(55px, 14vw, 80px);\n                font-size: clamp(2rem, 6vw, 3.2rem);\n            }\n\n            .qr-section {\n                margin-top: 1.5vh;\n                padding: 1.5vh;\n            }\n\n            .qr-section h3 {\n                font-size: clamp(1rem, 3vw, 1.3rem);\n                margin-bottom: 1vh;\n            }\n\n            .qr-code {\n                width: clamp(160px, 32vw, 220px);\n                height: clamp(160px, 32vw, 220px);\n                margin: 1vh auto;\n            }\n\n            .qr-section p {\n                font-size: clamp(0.9rem, 2.5vw, 1.1rem);\n                margin-top: 1vh;\n            }\n\n            .footer {\n                margin-top: 2vh;\n                padding: 2.5vh 2vw;\n                font-size: clamp(1.2rem, 3vw, 1.6rem);\n                min-height: 8vh;\n            }\n\n            .footer img {\n                height: clamp(35px, 8vw, 55px);\n            }\n        }\n\n        /* 16:9 Landscape Layout - Desktop/Laptop browsers */\n        @media screen and (orientation: landscape) and (min-aspect-ratio: 16/9) {\n            body {\n                padding: 20px;\n                display: flex;\n                justify-content: center;\n                align-items: flex-start;\n                min-height: 100vh;\n            }\n\n            .puzzle-container {\n                display: grid;\n                grid-template-columns: 1fr 350px;\n                gap: 40px;\n                max-width: 1400px;\n                width: 100%;\n                padding: 20px;\n                align-items: start;\n            }\n\n            .puzzle-content {\n                display: flex;\n                flex-direction: column;\n            }\n\n            .header {\n                padding: 25px;\n                margin-bottom: 30px;\n            }\n\n            .header h1 {\n                font-size: 1.8em;\n                margin-bottom: 8px;\n            }\n\n            .header .subtitle {\n                font-size: 2.6em;\n            }\n\n            .clue-row {\n                margin: 20px 0;\n                padding: 20px;\n                min-height: 80px;\n            }\n\n            .number-box {\n                width: 60px;\n                height: 60px;\n                font-size: 2em;\n                margin: 6px;\n            }\n\n            .clue-text {\n                font-size: 1.3em;\n                line-height: 1.3;\n            }\n\n            .solution-section {\n                padding: 25px;\n                margin: 30px 0;\n            }\n\n            .solution-box {\n                width: 70px;\n                height: 70px;\n                font-size: 2.4em;\n            }\n\n            .side-panel {\n                display: flex;\n                flex-direction: column;\n                gap: 20px;\n                position: sticky;\n                top: 20px;\n            }\n\n            .qr-section {\n                margin: 0;\n                padding: 25px;\n                background: white;\n                border-radius: 15px;\n                box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n            }\n\n            .qr-section h3 {\n                font-size: 1.2em;\n                margin-bottom: 15px;\n            }\n\n            .qr-code {\n                width: 200px;\n                height: 200px;\n            }\n\n            .qr-section p {\n                font-size: 0.95em;\n                margin-top: 15px;\n            }\n\n            .footer {\n                grid-column: 1 / -1;\n                padding: 25px;\n                margin-top: 30px;\n                font-size: 1.3em;\n            }\n\n            .footer img {\n                height: 40px;\n            }\n        }\n\n        .header {\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            color: white;\n            padding: 15px;\n            border-radius: 15px;\n            margin-bottom: 20px;\n            position: relative;\n            overflow: hidden;\n        }\n\n        .header h1 {\n            font-size: 1.8em;\n            font-weight: bold;\n            margin-bottom: 5px;\n            line-height: 1.1;\n        }\n\n        .header .subtitle {\n            font-size: 2.8em;\n            opacity: 1;\n            font-weight: bold;\n            margin-top: 5px;\n        }\n\n        .clue-row {\n            display: flex;\n            align-items: center;\n            margin: 25px 0;\n            padding: 20px 15px;\n            border-radius: 10px;\n            background: #f8f9fa;\n            min-height: 90px;\n        }\n\n        .clue-row:nth-child(2) { border-left: 5px solid #6c5ce7; }\n        .clue-row:nth-child(3) { border-left: 5px solid #a29bfe; }\n        .clue-row:nth-child(4) { border-left: 5px solid #00b894; }\n        .clue-row:nth-child(5) { border-left: 5px solid #00cec9; }\n        .clue-row:nth-child(6) { border-left: 5px solid #74b9ff; }\n\n        .number-boxes {\n            display: flex;\n            gap: 10px;\n            margin-right: 20px;\n        }\n\n        .number-box {\n            width: 70px;\n            height: 70px;\n            background: white;\n            color: #2d3436;\n            font-size: 2.2em;\n            font-weight: bold;\n            margin: 8px;\n            border-radius: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border: 1px solid #ddd;\n        }\n\n        .clue-row:nth-child(2) .number-box { color: #6c5ce7; border-color: #6c5ce7; }\n        .clue-row:nth-child(3) .number-box { color: #a29bfe; border-color: #a29bfe; }\n        .clue-row:nth-child(4) .number-box { color: #00b894; border-color: #00b894; }\n        .clue-row:nth-child(5) .number-box { color: #00cec9; border-color: #00cec9; }\n        .clue-row:nth-child(6) .number-box { color: #74b9ff; border-color: #74b9ff; }\n\n        .clue-text {\n            flex: 1;\n            text-align: left;\n            font-size: 1.4em;\n            color: #2d3436;\n            font-weight: 500;\n            line-height: 1.2;\n        }\n\n        .solution-section {\n            margin: 20px 0;\n            padding: 15px;\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            border-radius: 15px;\n            color: white;\n        }\n\n        .solution-boxes {\n            display: flex;\n            justify-content: center;\n            gap: 15px;\n            margin: 20px 0;\n        }\n\n        .solution-box {\n            width: 80px;\n            height: 80px;\n            background: rgba(255,255,255,0.2);\n            border: 3px solid white;\n            border-radius: 12px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 3em;\n            font-weight: bold;\n            color: white;\n        }\n\n        .qr-section {\n            margin-top: 30px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 10px;\n            border: 2px dashed #ddd;\n        }\n\n        .qr-code {\n            width: 200px;\n            height: 200px;\n            margin: 20px auto;\n            background: white;\n            border-radius: 10px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border: 1px solid #ddd;\n        }\n\n        .footer {\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            color: white;\n            padding: 25px 20px;\n            border-radius: 15px;\n            margin-top: 30px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            font-size: 1.4em;\n            font-weight: bold;\n            min-height: 60px;\n        }\n\n        .footer img {\n            height: 45px;\n            width: auto;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"puzzle-container\">\n        <div class=\"puzzle-content\">\n            <div class=\"header\">\n                <h1>Crack the code to</h1>\n                <div class=\"subtitle\">Hack the prize!</div>\n            </div>\n\n            ${clueRows}\n\n            <div class=\"solution-section\">\n                <div class=\"solution-boxes\">\n                    <div class=\"solution-box\">?</div>\n                    <div class=\"solution-box\">?</div>\n                    <div class=\"solution-box\">?</div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"side-panel\">\n            <div class=\"qr-section\">\n                <h3>Scan to Submit Your Answer</h3>\n                <div class=\"qr-code\">\n                    <img src=\"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url.origin + '/submit?conference=' + conferenceId)}\" alt=\"QR Code\" />\n                </div>\n            </div>\n        </div>\n\n        <div class=\"footer\">\n            <span>#EverywhereSecurity</span>\n            <img src=\"https://imagedelivery.net/LDaKen7vOKX42km4kZ-43A/21c30227-7801-44fe-6149-121c5044a100/thumbnail\" alt=\"Cloudflare\" />\n        </div>\n\n        <div style=\"text-align: center; padding: 10px; font-size: 0.8em; opacity: 0.6; color: #636e72;\">\n            Built on Cloudflare Durable Objects\n        </div>\n    </div>\n\n    <script>\n        const submitUrl = window.location.origin + '/submit?conference=${conferenceId}';\n        console.log('Submit URL:', submitUrl);\n\n        // Generate QR code using API service\n        function generateQR() {\n            console.log('Generating QR code using API service...');\n            const qrImage = document.getElementById('qr-image');\n            if (qrImage) {\n                const qrApiUrl = 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=' + encodeURIComponent(submitUrl);\n                qrImage.src = qrApiUrl;\n                qrImage.onload = function() {\n                    console.log('QR Code loaded successfully');\n                };\n                qrImage.onerror = function() {\n                    console.error('QR Code API failed, showing fallback');\n                    document.getElementById('qrcode').innerHTML = '<p>QR Code unavailable. <a href=\"' + submitUrl + '\" target=\"_blank\">Click here to submit</a></p>';\n                };\n            } else {\n                console.error('QR image element not found');\n            }\n        }\n\n        generateQR();\n\n        let displayModeInterval;\n        let isNavigating = false;\n\n        displayModeInterval = setInterval(async function() {\n            if (isNavigating) return;\n\n            try {\n                const response = await fetch('/api/display-mode/${conferenceId}');\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.mode === 'winner') {\n                        isNavigating = true;\n                        clearInterval(displayModeInterval);\n                        console.log('Switching to winner wheel...');\n                        window.location.href = '/winner?conference=${conferenceId}';\n                    }\n                }\n            } catch (error) {\n                console.log('Display mode check failed:', error);\n            }\n        }, 3000);\n    </script>\n</body>\n</html>`;\n\n  return new Response(html, {\n    headers: { 'Content-Type': 'text/html' }\n  });\n}\n\nasync function handleAPI(request, env, corsHeaders) {\n  const url = new URL(request.url);\n  const path = url.pathname;\n  const method = request.method;\n\n  if (path === '/api/conferences' && method === 'GET') {\n    const regResp = await getRegistryStub(env).fetch('https://do/list');\n    const entries = regResp.ok ? await regResp.json() : [];\n    const conferences = [];\n    for (const { id } of entries) {\n      const resp = await getConferenceStub(env, id).fetch('https://do/get');\n      if (resp.ok) conferences.push(await resp.json());\n    }\n    return new Response(JSON.stringify(conferences), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path === '/api/conferences' && method === 'POST') {\n    try {\n      const body = await request.json();\n      const conferenceId = body.name.toLowerCase().replace(/[^a-z0-9]/g, '-').replace(/--+/g, '-');\n\n      const existsResp = await getRegistryStub(env).fetch('https://do/exists?id=' + conferenceId);\n      const existsData = existsResp.ok ? await existsResp.json() : { exists: false };\n      if (existsData.exists) {\n        return new Response(JSON.stringify({ \n          error: 'A conference with this name already exists. Please choose a different name.' \n        }), {\n          status: 409,\n          headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n        });\n      }\n\n      const puzzle = generatePuzzle();\n\n      const conference = {\n        id: conferenceId,\n        name: body.name,\n        puzzle,\n        created: new Date().toISOString()\n      };\n\n      await getConferenceStub(env, conferenceId).fetch('https://do/create', { method: 'POST', body: JSON.stringify(conference) });\n      await getRegistryStub(env).fetch('https://do/add', { method: 'POST', body: JSON.stringify({ id: conferenceId, name: conference.name }) });\n\n      return new Response(JSON.stringify(conference), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    } catch (error) {\n      console.error('Error creating conference:', error);\n      return new Response('Error creating conference: ' + error.message, { \n        status: 500, \n        headers: corsHeaders \n      });\n    }\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/reshuffle$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/reshuffle$/)[1];\n    const newPuzzle = generatePuzzle();\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/reshuffle', { method: 'POST', body: JSON.stringify({ puzzle: newPuzzle }) });\n    if (!resp.ok) return new Response('Conference not found', { status: 404, headers: corsHeaders });\n    const conferenceData = await resp.json();\n    return new Response(JSON.stringify(conferenceData), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/finish$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/finish$/)[1];\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/finish', { method: 'POST' });\n    if (!resp.ok) return new Response('Conference not found', { status: 404, headers: corsHeaders });\n    const conferenceData = await resp.json();\n    return new Response(JSON.stringify(conferenceData), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path === '/api/submit' && method === 'POST') {\n    const { conference, name, email, answer, turnstileToken } = await request.json();\n\n    if (!turnstileToken) {\n      return new Response(JSON.stringify({ error: 'Turnstile token required' }), {\n        status: 400,\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    }\n\n    // Verify Turnstile token\n    const turnstileResponse = await fetch('https://challenges.cloudflare.com/turnstile/v0/siteverify', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n      body: `secret=${env.TURNSTILE_SECRET_KEY}&response=${turnstileToken}`,\n    });\n\n    const turnstileResult = await turnstileResponse.json();\n\n    if (!turnstileResult.success) {\n      return new Response(JSON.stringify({ error: 'Turnstile verification failed' }), {\n        status: 400,\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    }\n\n    const conferenceId = conference;\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submit', { method: 'POST', body: JSON.stringify({ name, email, answer }) });\n    if (!resp.ok) return new Response(await resp.text(), { status: resp.status, headers: corsHeaders });\n    return new Response(await resp.text(), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/switch-to-winner$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/switch-to-winner$/)[1];\n    await getConferenceStub(env, conferenceId).fetch('https://do/set-mode', { method: 'POST', body: JSON.stringify({ mode: 'winner' }) });\n    return new Response(JSON.stringify({ success: true }), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/switch-to-puzzle$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/switch-to-puzzle$/)[1];\n    await getConferenceStub(env, conferenceId).fetch('https://do/set-mode', { method: 'POST', body: JSON.stringify({ mode: null }) });\n    return new Response(JSON.stringify({ success: true }), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/display-mode$/) && method === 'GET') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/display-mode$/)[1];\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/get-mode');\n    const data = resp.ok ? await resp.json() : { mode: 'puzzle' };\n    return new Response(JSON.stringify(data), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  // Public proxy endpoint for display-mode (no authentication required)\n  if (path.match(/^\\/api\\/display-mode\\/([^\\/]+)$/) && method === 'GET') {\n    const conferenceId = path.match(/^\\/api\\/display-mode\\/([^\\/]+)$/)[1];\n\n    try {\n      const resp = await getConferenceStub(env, conferenceId).fetch('https://do/get-mode');\n      const data = resp.ok ? await resp.json() : { mode: 'puzzle' };\n      return new Response(JSON.stringify(data), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    } catch (error) {\n      console.error('Error fetching display mode:', error);\n      return new Response(JSON.stringify({ mode: 'puzzle' }), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    }\n  }\n\n  // Admin proxy endpoint for switch-to-winner (public for reliability)\n  if (path.match(/^\\/api\\/admin\\/([^\\/]+)\\/switch-to-winner$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/admin\\/([^\\/]+)\\/switch-to-winner$/)[1];\n\n    try {\n      await getConferenceStub(env, conferenceId).fetch('https://do/set-mode', { method: 'POST', body: JSON.stringify({ mode: 'winner' }) });\n      return new Response(JSON.stringify({ success: true }), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    } catch (error) {\n      console.error('Error switching to winner:', error);\n      return new Response(JSON.stringify({ success: false }), {\n        status: 500,\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    }\n  }\n\n  // Admin proxy endpoint for switch-to-puzzle (public for reliability)\n  if (path.match(/^\\/api\\/admin\\/([^\\/]+)\\/switch-to-puzzle$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/admin\\/([^\\/]+)\\/switch-to-puzzle$/)[1];\n\n    try {\n      await getConferenceStub(env, conferenceId).fetch('https://do/set-mode', { method: 'POST', body: JSON.stringify({ mode: null }) });\n      return new Response(JSON.stringify({ success: true }), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    } catch (error) {\n      console.error('Error switching to puzzle:', error);\n      return new Response(JSON.stringify({ success: false }), {\n        status: 500,\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n      });\n    }\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/submission-count$/) && method === 'GET') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/submission-count$/)[1];\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submission-count');\n    const data = resp.ok ? await resp.json() : { count: 0, correctCount: 0 };\n    return new Response(JSON.stringify(data), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/reopen$/) && method === 'POST') {\n    const conferenceId = path.match(/^\\/api\\/conferences\\/([^\\/]+)\\/reopen$/)[1];\n\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/reopen', { method: 'POST' });\n    if (!resp.ok) return new Response('Conference not found', { status: 404, headers: corsHeaders });\n    return new Response(JSON.stringify({ success: true }), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  if (path === '/api/submissions' && method === 'GET') {\n    const conferenceId = url.searchParams.get('conference');\n    if (!conferenceId) {\n      return new Response('Conference ID required', { status: 400, headers: corsHeaders });\n    }\n\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submissions');\n    const submissions = resp.ok ? await resp.json() : [];\n\n    const html = `<!DOCTYPE html>\n<html><head>\n<meta charset=\"UTF-8\">\n<title>Submissions - ${conferenceId}</title>\n<link rel=\"icon\" type=\"image/x-icon\" href=\"https://r2.lusostreams.com/puzzleicon.ico\">\n<style>\n  body { font-family: Arial, sans-serif; margin: 20px; }\n  table { width: 100%; border-collapse: collapse; }\n  th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n  th { background-color: #f2f2f2; }\n  .correct { background-color: #d4edda; }\n  .incorrect { background-color: #f8d7da; }\n</style>\n</head><body>\n<h1>Submissions for ${conferenceId}</h1>\n<table>\n  <tr><th>Time</th><th>Name</th><th>Email</th><th>Answer</th><th>Correct</th></tr>\n  ${submissions.map(sub => \n    `<tr class=\"${sub.correct ? 'correct' : 'incorrect'}\">\n      <td>${new Date(sub.timestamp).toLocaleString()}</td>\n      <td>${sub.name}</td>\n      <td>${sub.email}</td>\n      <td>${Array.isArray(sub.answer) ? sub.answer.join('') : sub.answer}</td>\n      <td>${sub.correct ? '\u2705' : '\u274C'}</td>\n    </tr>`\n  ).join('')}\n</table>\n</body></html>`;\n\n    return new Response(html, {\n      headers: { 'Content-Type': 'text/html; charset=utf-8' }\n    });\n  }\n\n  // Test endpoint for bulk data generation (bypasses Turnstile)\n  if (path === '/api/test-submit' && method === 'POST') {\n    const { conference, name, email, answer } = await request.json();\n    const conferenceId = conference;\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submit', { method: 'POST', body: JSON.stringify({ name, email, answer }) });\n    if (!resp.ok) return new Response(await resp.text(), { status: resp.status, headers: corsHeaders });\n    return new Response(await resp.text(), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  // Populate test data endpoint\n  if (path === '/api/populate-test-data' && method === 'POST') {\n    return handlePopulateTestData(request, env);\n  }\n\n  // Debug endpoint to check submissions\n  if (path === '/api/debug-submissions' && method === 'GET') {\n    const conferenceId = url.searchParams.get('conference');\n    if (!conferenceId) {\n      return new Response(JSON.stringify([]), { headers: { ...corsHeaders, 'Content-Type': 'application/json' } });\n    }\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submissions');\n    const submissions = resp.ok ? await resp.json() : [];\n\n    return new Response(JSON.stringify(submissions, null, 2), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  }\n\n  return new Response('API endpoint not found', { status: 404, headers: corsHeaders });\n}\n\nasync function handleAdminUI(env) {\n  const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Cloudflare Booth Puzzle - Admin</title>\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"https://r2.lusostreams.com/puzzleicon.ico\">\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body {\n            font-family: Arial, sans-serif;\n            background: linear-gradient(135deg, #2d3436, #636e72);\n            min-height: 100vh;\n            padding: 15px;\n            overflow-x: auto;\n        }\n        .admin-container {\n            max-width: 1600px;\n            margin: 0 auto;\n            background: white;\n            border-radius: 15px;\n            padding: 20px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n            display: grid;\n            grid-template-columns: 350px 1fr;\n            grid-template-rows: auto 1fr;\n            gap: 20px;\n            min-height: calc(100vh - 30px);\n        }\n        .header {\n            grid-column: 1 / -1;\n            text-align: center;\n            padding: 15px 0;\n            border-bottom: 2px solid #f1f2f6;\n            margin-bottom: 0;\n        }\n        .header h1 {\n            color: #2d3436;\n            font-size: 2em;\n            margin-bottom: 5px;\n        }\n        .header p {\n            color: #636e72;\n            font-size: 1em;\n        }\n        .sidebar {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .main-content {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n            overflow-y: auto;\n            max-height: calc(100vh - 150px);\n        }\n        .section {\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 10px;\n            border-left: 5px solid #ff6b35;\n        }\n        .section h2 {\n            color: #2d3436;\n            margin-bottom: 15px;\n            font-size: 1.3em;\n        }\n        .collapsible-header {\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 5px 0;\n            user-select: none;\n        }\n        .collapsible-header:hover {\n            color: #ff6b35;\n        }\n        .collapse-icon {\n            transition: transform 0.3s ease;\n            font-size: 1.2em;\n        }\n        .collapse-icon.collapsed {\n            transform: rotate(-90deg);\n        }\n        .collapsible-content {\n            overflow: hidden;\n            transition: max-height 0.3s ease;\n        }\n        .collapsible-content.collapsed {\n            max-height: 0;\n        }\n        .form-group {\n            margin: 15px 0;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n            color: #2d3436;\n        }\n        input, button {\n            width: 100%;\n            padding: 12px;\n            border: 2px solid #ddd;\n            border-radius: 8px;\n            font-size: 1em;\n            margin-bottom: 10px;\n        }\n        button {\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            color: white;\n            border: none;\n            cursor: pointer;\n            font-weight: bold;\n            transition: transform 0.2s;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-align: center;\n            line-height: 1.2;\n        }\n        button:hover {\n            transform: translateY(-2px);\n        }\n        .btn-secondary {\n            background: linear-gradient(135deg, #636e72, #2d3436);\n        }\n        .btn-danger {\n            background: linear-gradient(135deg, #e17055, #d63031);\n        }\n        .conference-list {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n            gap: 20px;\n            margin-top: 20px;\n        }\n        .conference-card {\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            border: 2px solid #ddd;\n            position: relative;\n        }\n        .conference-card.active {\n            border-color: #00b894;\n            background: #f0fff4;\n        }\n        .conference-card.inactive {\n            border-color: #e17055;\n            background: #fff5f5;\n        }\n        .status-badge {\n            float: right;\n            margin-left: 10px;\n            margin-bottom: 5px;\n            padding: 5px 10px;\n            border-radius: 15px;\n            font-size: 0.8em;\n            font-weight: bold;\n            clear: right;\n        }\n        .conference-card h3 {\n            margin: 0 0 10px 0;\n            font-size: 1.2em;\n            line-height: 1.3;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n        }\n        .status-active {\n            background: #00b894;\n            color: white;\n        }\n        .status-inactive {\n            background: #e17055;\n            color: white;\n        }\n        .button-group {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 8px;\n            margin-top: 15px;\n        }\n        .button-group button {\n            flex: 1;\n            min-width: 80px;\n            font-size: 0.85em;\n            padding: 8px 12px;\n            transition: all 0.3s ease;\n        }\n        .current-puzzle {\n            background: #e8f4f8;\n            padding: 15px;\n            border-radius: 8px;\n            margin: 15px 0;\n        }\n        .solution-display {\n            background: #ff6b35;\n            color: white;\n            padding: 10px;\n            border-radius: 5px;\n            text-align: center;\n            font-weight: bold;\n            font-size: 1.2em;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"admin-container\">\n        <div class=\"header\">\n            <h1>\uD83D\uDD27 Cloudflare Booth Puzzle Admin - Durable Objects Version</h1>\n            <p>Manage conferences, puzzles, and winners</p>\n        </div>\n\n        <div class=\"sidebar\">\n            <div class=\"section\">\n                <h2>Create New Conference</h2>\n                <div class=\"form-group\">\n                    <label for=\"newConferenceName\">Conference Name:</label>\n                    <input type=\"text\" id=\"newConferenceName\" placeholder=\"Conference Name\" data-placeholder-template=\"e.g., RSA Conference {year}\">\n                    <button onclick=\"createConference()\">Create Conference</button>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"main-content\">\n            <div class=\"section\">\n                <h2>Active Conferences</h2>\n                <div id=\"conferencesList\" class=\"conference-list\">\n                    Loading conferences... this may take ~10 seconds...\n                </div>\n            </div>\n\n            <div class=\"section\">\n                <div class=\"collapsible-header\" onclick=\"toggleHistorySection()\">\n                    <h2 style=\"margin: 0;\">Conference History</h2>\n                    <span class=\"collapse-icon collapsed\">\u25BC</span>\n                </div>\n                <div id=\"historyContent\" class=\"collapsible-content collapsed\">\n                    <div id=\"historyList\" class=\"conference-list\">\n                        Loading history...\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        let conferences = [];\n\n        // Service Token credentials injected server-side\n        const SERVICE_TOKEN_ID = '${env.CF_ACCESS_CLIENT_ID || \"\"}';\n        const SERVICE_TOKEN_SECRET = '${env.CF_ACCESS_CLIENT_SECRET || \"\"}';\n\n        function getServiceHeaders() {\n            // For DO version, we don't require service tokens for basic operations\n            if (SERVICE_TOKEN_ID && SERVICE_TOKEN_SECRET && SERVICE_TOKEN_ID !== '' && SERVICE_TOKEN_SECRET !== '') {\n                return {\n                    'CF-Access-Client-Id': SERVICE_TOKEN_ID,\n                    'CF-Access-Client-Secret': SERVICE_TOKEN_SECRET,\n                    'Content-Type': 'application/json'\n                };\n            } else {\n                return {\n                    'Content-Type': 'application/json'\n                };\n            }\n        }\n\n        async function loadConferences() {\n            try {\n                console.log('Loading conferences...');\n                document.getElementById('conferencesList').innerHTML = '<p>Loading conferences...</p>';\n                \n                const response = await fetch('/api/conferences', {\n                    headers: getServiceHeaders()\n                });\n                console.log('Response status:', response.status);\n\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    throw new Error('HTTP ' + response.status + ': ' + errorText);\n                }\n\n                conferences = await response.json();\n                console.log('Loaded conferences:', conferences);\n                console.log('Number of conferences:', conferences.length);\n                \n                if (conferences.length === 0) {\n                    document.getElementById('conferencesList').innerHTML = '<p>No conferences found.</p>';\n                    return;\n                }\n                \n                await renderConferences();\n            } catch (error) {\n                console.error('Error loading conferences:', error);\n                document.getElementById('conferencesList').innerHTML = '<p style=\"color: red;\">Error loading conferences: ' + error.message + '</p>';\n                document.getElementById('historyList').innerHTML = '<p style=\"color: red;\">Error loading history: ' + error.message + '</p>';\n            }\n        }\n\n        async function renderConferences() {\n            console.log('Starting renderConferences...');\n            const activeConferences = conferences.filter(conf => conf.active);\n            const inactiveConferences = conferences.filter(conf => !conf.active);\n            console.log('Active conferences:', activeConferences.length);\n            console.log('Inactive conferences:', inactiveConferences.length);\n\n            // Render active conferences\n            const activeContainer = document.getElementById('conferencesList');\n            if (activeConferences.length === 0) {\n                activeContainer.innerHTML = '<p>No active conferences found. Create your first conference above.</p>';\n            } else {\n                try {\n                    console.log('Rendering active conference cards...');\n                    activeContainer.innerHTML = '<p>Rendering conference cards...</p>';\n                    const activeCards = await Promise.all(activeConferences.map(conf => renderConferenceCard(conf, true)));\n                    console.log('Generated', activeCards.length, 'active cards');\n                    activeContainer.innerHTML = activeCards.join('');\n                } catch (error) {\n                    console.error('Error rendering active conferences:', error);\n                    activeContainer.innerHTML = '<p style=\"color: red;\">Error rendering conferences: ' + error.message + '</p>';\n                }\n            }\n\n            // Render conference history\n            const historyContainer = document.getElementById('historyList');\n            if (inactiveConferences.length === 0) {\n                historyContainer.innerHTML = '<p>No finished conferences yet.</p>';\n            } else {\n                // Sort inactive conferences by ended date (most recent first)\n                const sortedInactiveConferences = inactiveConferences.sort((a, b) => {\n                    const dateA = new Date(a.ended || a.created);\n                    const dateB = new Date(b.ended || b.created);\n                    return dateB - dateA; // Most recent first\n                });\n                const historyCards = await Promise.all(sortedInactiveConferences.map(conf => renderConferenceCard(conf, false)));\n                historyContainer.innerHTML = historyCards.join('');\n            }\n\n            // Update max-height for collapsible content if it's expanded\n            const historyContent = document.getElementById('historyContent');\n            if (historyContent && !historyContent.classList.contains('collapsed')) {\n                historyContent.style.maxHeight = historyContent.scrollHeight + 'px';\n            }\n        }\n\n        async function renderConferenceCard(conf, isActive) {\n            const clueItems = conf.puzzle.clues.map(clue => \n                '<div><strong>' + clue.numbers.join('') + '</strong><br><small>' + clue.hint + '</small></div>'\n            ).join('');\n\n            const winnerInfo = conf.winner ? \n                '<div style=\"background: #00b894; color: white; padding: 10px; border-radius: 5px; margin: 10px 0;\">' +\n                    '<strong>\uD83C\uDFC6 Winner: ' + conf.winner.name + '</strong><br>' +\n                    '<small>' + conf.winner.email + '</small>' +\n                '</div>' : '';\n\n            // Get submission count and correct ratio for this conference\n            let submissionCount = 0;\n            let correctCount = 0;\n            let correctRatio = 0;\n            try {\n                const response = await fetch('/api/conferences/' + conf.id + '/submission-count');\n                if (response.ok) {\n                    const data = await response.json();\n                    submissionCount = data.count;\n                    correctCount = data.correctCount || 0;\n                    correctRatio = submissionCount > 0 ? Math.round((correctCount / submissionCount) * 100) : 0;\n                }\n            } catch (e) {\n                // Ignore errors, default to 0\n            }\n\n            // Get display mode for this conference\n            let displayMode = null;\n            try {\n                const response = await fetch('/api/display-mode/' + conf.id);\n                if (response.ok) {\n                    const data = await response.json();\n                    displayMode = data.mode;\n                }\n            } catch (e) {\n                // Ignore errors, default to null\n            }\n\n            return '<div class=\"conference-card ' + (conf.active ? 'active' : 'inactive') + '\">' +\n                '<div class=\"status-badge status-' + (conf.active ? 'active' : 'inactive') + '\">' + (conf.active ? 'ACTIVE' : 'ENDED') + '</div>' +\n                '<h3>' + conf.name + '</h3>' +\n                '<p><strong>ID:</strong> ' + conf.id + '</p>' +\n                '<p><strong>Created:</strong> ' + new Date(conf.created).toLocaleString() + '</p>' +\n                (conf.ended ? '<p><strong>Ended:</strong> ' + new Date(conf.ended).toLocaleString() + '</p>' : '') +\n                '<p><strong>\uD83D\uDCCA Submissions:</strong> ' + submissionCount + ' total, ' + correctCount + ' correct (' + correctRatio + '%)</p>' +\n                (displayMode ? '<p><strong>\uD83D\uDDA5\uFE0F Currently Displaying:</strong> ' + (displayMode === 'winner' ? '\uD83C\uDF89 Winner Wheel' : '\uD83E\uDDE9 Puzzle Screen') + '</p>' : '<p><strong>\uD83D\uDDA5\uFE0F Currently Displaying:</strong> \uD83E\uDDE9 Puzzle Screen</p>') +\n                '<div class=\"current-puzzle\">' +\n                    '<h4>Solution:</h4>' +\n                    '<div class=\"solution-display\">' + conf.puzzle.solution.join(' - ') + '</div>' +\n                    '<div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 10px;\">' +\n                        clueItems +\n                    '</div>' +\n                '</div>' +\n                winnerInfo +\n                '<div class=\"button-group\">' +\n                    '<button onclick=\"viewPuzzle(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">View Puzzle</button>' +\n                    '<button onclick=\"copyPuzzleUrl(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">\uD83D\uDCCB Copy URL</button>' +\n                    (isActive ? '<button onclick=\"reshufflePuzzle(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">Reshuffle</button>' : '') +\n                '</div>' +\n                (isActive ? \n                    '<div class=\"button-group\">' +\n                        '<button onclick=\"viewSubmissions(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">View Submissions</button>' +\n                        '<button onclick=\"finishContest(&quot;' + conf.id + '&quot;)\" class=\"btn-danger\">Finish Contest</button>' +\n                    '</div>' +\n                    '<div class=\"button-group\">' +\n                        (displayMode === 'winner' ? \n                            '<button onclick=\"switchToPuzzle(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">Back to Puzzle Screen</button>' :\n                            '<button onclick=\"switchToWinner(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">Switch to Winner Wheel</button>'\n                        ) +\n                    '</div>'\n                : \n                    '<div class=\"button-group\">' +\n                        '<button onclick=\"viewSubmissions(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">View Submissions</button>' +\n                        '<button onclick=\"reopenContest(&quot;' + conf.id + '&quot;)\" class=\"btn-secondary\">Reopen Contest</button>' +\n                    '</div>'\n                ) +\n            '</div>';\n        }\n\n        async function createConference() {\n            const name = document.getElementById('newConferenceName').value.trim();\n            if (!name) {\n                alert('Please enter a conference name');\n                return;\n            }\n\n            try {\n                const response = await fetch('/api/conferences', {\n                    method: 'POST',\n                    headers: getServiceHeaders(),\n                    body: JSON.stringify({ name })\n                });\n\n                if (response.ok) {\n                    document.getElementById('newConferenceName').value = '';\n                    loadConferences();\n                } else {\n                    const error = await response.json();\n                    alert('Error creating conference: ' + (error.error || 'Unknown error'));\n                }\n            } catch (error) {\n                console.error('Error creating conference:', error);\n                alert('Error creating conference: ' + error.message);\n            }\n        }\n\n        async function reshufflePuzzle(conferenceId) {\n            if (!confirm('Are you sure you want to reshuffle this puzzle? This will generate a new solution and DELETE ALL EXISTING SUBMISSIONS for this conference.')) {\n                return;\n            }\n\n            try {\n                const response = await fetch('/api/conferences/' + conferenceId + '/reshuffle', {\n                    method: 'POST',\n                    headers: getServiceHeaders()\n                });\n\n                if (response.ok) {\n                    loadConferences();\n                } else {\n                    alert('Error reshuffling puzzle');\n                }\n            } catch (error) {\n                console.error('Error reshuffling puzzle:', error);\n                alert('Error reshuffling puzzle');\n            }\n        }\n\n        async function finishContest(conferenceId) {\n            if (!confirm('Are you sure you want to finish this contest? Attendees will no longer be able to submit answers.')) {\n                return;\n            }\n\n            try {\n                const response = await fetch('/api/conferences/' + conferenceId + '/finish', {\n                    method: 'POST',\n                    headers: getServiceHeaders()\n                });\n\n                if (response.ok) {\n                    loadConferences();\n                } else {\n                    alert('Error finishing contest');\n                }\n            } catch (error) {\n                console.error('Error finishing contest:', error);\n                alert('Error finishing contest');\n            }\n        }\n\n        async function reopenContest(conferenceId) {\n            if (!confirm('Are you sure you want to reopen this contest? Attendees will be able to submit answers again.')) {\n                return;\n            }\n\n            try {\n                const response = await fetch('/api/conferences/' + conferenceId + '/reopen', {\n                    method: 'POST',\n                    headers: getServiceHeaders()\n                });\n\n                if (response.ok) {\n                    loadConferences();\n                } else {\n                    alert('Error reopening contest');\n                }\n            } catch (error) {\n                console.error('Error reopening contest:', error);\n                alert('Error reopening contest');\n            }\n        }\n\n        function viewPuzzle(conferenceId) {\n            window.open('/puzzle?conference=' + conferenceId, '_blank');\n        }\n\n        function viewSubmissions(conferenceId) {\n            window.open('/api/submissions?conference=' + conferenceId, '_blank');\n        }\n\n        async function copyPuzzleUrl(conferenceId) {\n            const puzzleUrl = window.location.origin + '/puzzle?conference=' + conferenceId;\n            const button = event.target;\n            const originalText = button.innerHTML;\n\n            try {\n                await navigator.clipboard.writeText(puzzleUrl);\n\n                // Animate button to show success\n                button.innerHTML = '\u2705 Copied!';\n                button.style.background = '#00b894';\n                button.style.transform = 'scale(0.95)';\n\n                setTimeout(() => {\n                    button.innerHTML = originalText;\n                    button.style.background = '';\n                    button.style.transform = '';\n                }, 2000);\n\n            } catch (err) {\n                // Fallback for older browsers\n                const textArea = document.createElement('textarea');\n                textArea.value = puzzleUrl;\n                document.body.appendChild(textArea);\n                textArea.select();\n                document.execCommand('copy');\n                document.body.removeChild(textArea);\n\n                // Animate button to show success\n                button.innerHTML = '\u2705 Copied!';\n                button.style.background = '#00b894';\n                button.style.transform = 'scale(0.95)';\n\n                setTimeout(() => {\n                    button.innerHTML = originalText;\n                    button.style.background = '';\n                    button.style.transform = '';\n                }, 2000);\n            }\n        }\n\n\n        function switchToWinner(conferenceId) {\n            if (confirm('This will switch the puzzle display to the winner wheel. Continue?')) {\n                // Use public proxy endpoint\n                fetch('/api/admin/' + conferenceId + '/switch-to-winner', {\n                    method: 'POST'\n                }).then(response => {\n                    if (response.ok) {\n                        alert('Puzzle display switched to winner wheel!');\n                        loadConferences(); // Refresh conference list to update display status\n                    } else {\n                        alert('Failed to switch display mode. Please try again.');\n                    }\n                }).catch(error => {\n                    console.error('Error switching to winner:', error);\n                    alert('Error switching display mode. Please try again.');\n                });\n            }\n        }\n\n        function switchToPuzzle(conferenceId) {\n            if (confirm('This will switch back to the puzzle display. Continue?')) {\n                // Use public proxy endpoint\n                fetch('/api/admin/' + conferenceId + '/switch-to-puzzle', {\n                    method: 'POST'\n                }).then(response => {\n                    if (response.ok) {\n                        alert('Display switched back to puzzle!');\n                        loadConferences(); // Refresh conference list to update display status\n                    } else {\n                        alert('Failed to switch display mode. Please try again.');\n                    }\n                }).catch(error => {\n                    console.error('Error switching to puzzle:', error);\n                    alert('Error switching display mode. Please try again.');\n                });\n            }\n        }\n\n        function toggleHistorySection() {\n            const content = document.getElementById('historyContent');\n            const icon = document.querySelector('.collapse-icon');\n            \n            if (content.classList.contains('collapsed')) {\n                content.classList.remove('collapsed');\n                content.style.maxHeight = content.scrollHeight + 'px';\n                icon.classList.remove('collapsed');\n            } else {\n                content.classList.add('collapsed');\n                content.style.maxHeight = '0';\n                icon.classList.add('collapsed');\n            }\n        }\n\n        // Set placeholder with current year\n        document.addEventListener('DOMContentLoaded', function() {\n            const input = document.getElementById('newConferenceName');\n            const template = input.getAttribute('data-placeholder-template');\n            if (template) {\n                const currentYear = new Date().getFullYear();\n                input.placeholder = template.replace('{year}', currentYear);\n            }\n            \n            // Load conferences on page load\n            loadConferences();\n        });\n    </script>\n</body>\n</html>`;\n\n  return new Response(html, {\n    headers: { 'Content-Type': 'text/html' }\n  });\n}\n\nasync function handleSubmitForm(url, env) {\n  const conferenceId = url.searchParams.get('conference') || 'default';\n\n  const confResp = await getConferenceStub(env, conferenceId).fetch('https://do/get');\n  if (!confResp.ok) {\n    return new Response('Conference not found', { status: 404 });\n  }\n\n  const conferenceData = await confResp.json();\n  if (!conferenceData.active) {\n    return new Response('Contest has ended', { status: 400 });\n  }\n\n  const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${conferenceData.name} - Submit Answer</title>\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"https://r2.lusostreams.com/puzzleicon.ico\">\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n\n        body {\n            font-family: Arial, sans-serif;\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 20px;\n        }\n\n        .submit-container {\n            background: white;\n            border-radius: 20px;\n            padding: 40px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n            max-width: 500px;\n            width: 100%;\n            text-align: center;\n        }\n\n        .header {\n            margin-bottom: 30px;\n        }\n\n        .header h1 {\n            color: #2d3436;\n            font-size: 2.2em;\n            margin-bottom: 10px;\n        }\n\n        .header p {\n            color: #636e72;\n            font-size: 1.1em;\n        }\n\n        .form-group {\n            margin: 20px 0;\n            text-align: left;\n        }\n\n        label {\n            display: block;\n            margin-bottom: 8px;\n            font-weight: bold;\n            color: #2d3436;\n        }\n\n        input {\n            width: 100%;\n            padding: 15px;\n            border: 2px solid #ddd;\n            border-radius: 10px;\n            font-size: 1.1em;\n            transition: border-color 0.3s;\n        }\n\n        input:focus {\n            outline: none;\n            border-color: #ff6b35;\n        }\n\n        .answer-inputs {\n            display: flex;\n            gap: 15px;\n            justify-content: center;\n        }\n\n        .answer-input {\n            width: 80px;\n            height: 80px;\n            text-align: center;\n            font-size: 2em;\n            font-weight: bold;\n            border: 3px solid #ff6b35;\n        }\n\n        .submit-btn {\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            color: white;\n            border: none;\n            padding: 15px 40px;\n            border-radius: 25px;\n            font-size: 1.2em;\n            font-weight: bold;\n            cursor: pointer;\n            transition: transform 0.2s;\n            margin-top: 20px;\n        }\n\n        .submit-btn:hover {\n            transform: translateY(-2px);\n        }\n\n        .success-message {\n            background: #00b894;\n            color: white;\n            padding: 20px;\n            border-radius: 10px;\n            margin-top: 20px;\n            display: none;\n        }\n\n        .error-message {\n            background: #e17055;\n            color: white;\n            padding: 20px;\n            border-radius: 10px;\n            margin-top: 20px;\n            display: none;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"submit-container\">\n        <div class=\"header\">\n            <h1>\uD83C\uDFAF Submit Your Answer</h1>\n            <p>Enter your solution to the puzzle and your details to enter the raffle!</p>\n        </div>\n\n        <form id=\"submitForm\">\n            <div class=\"form-group\">\n                <label>Your Answer (3 digits):</label>\n                <div class=\"answer-inputs\">\n                    <input type=\"number\" class=\"answer-input\" min=\"0\" max=\"9\" maxlength=\"1\" id=\"digit1\" required>\n                    <input type=\"number\" class=\"answer-input\" min=\"0\" max=\"9\" maxlength=\"1\" id=\"digit2\" required>\n                    <input type=\"number\" class=\"answer-input\" min=\"0\" max=\"9\" maxlength=\"1\" id=\"digit3\" required>\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"name\">Your Name:</label>\n                <input type=\"text\" id=\"name\" required placeholder=\"Enter your full name\">\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"email\">Your Email:</label>\n                <input type=\"email\" id=\"email\" required placeholder=\"Enter your email address\">\n            </div>\n\n            <div class=\"form-group\" style=\"display: flex; justify-content: center;\">\n                <div class=\"cf-turnstile\" data-sitekey=\"${env.TURNSTILE_SITE_KEY || ''}\" data-callback=\"onTurnstileSuccess\"></div>\n            </div>\n\n            <button type=\"submit\" class=\"submit-btn\" id=\"submitBtn\" disabled>\uD83D\uDE80 Submit Answer</button>\n        </form>\n\n        <div id=\"successMessage\" class=\"success-message\">\n            <h3>\u2705 Submission Successful!</h3>\n            <p>Your answer has been recorded. Good luck in the raffle!</p>\n        </div>\n\n        <div id=\"errorMessage\" class=\"error-message\">\n            <h3>\u274C Submission Failed</h3>\n            <p id=\"errorText\">Please try again.</p>\n        </div>\n    </div>\n\n    <script src=\"https://challenges.cloudflare.com/turnstile/v0/api.js\" async defer></script>\n    <script>\n        let turnstileToken = null;\n\n        // Turnstile callback function\n        function onTurnstileSuccess(token) {\n            turnstileToken = token;\n            document.getElementById('submitBtn').disabled = false;\n            document.getElementById('submitBtn').style.opacity = '1';\n        }\n\n        // Initially disable submit button\n        document.getElementById('submitBtn').style.opacity = '0.5';\n\n        document.querySelectorAll('.answer-input').forEach((input, index) => {\n            input.addEventListener('input', function() {\n                if (this.value.length === 1 && index < 2) {\n                    document.querySelectorAll('.answer-input')[index + 1].focus();\n                }\n            });\n        });\n\n        document.getElementById('submitForm').addEventListener('submit', async function(e) {\n            e.preventDefault();\n\n            const digit1 = document.getElementById('digit1').value;\n            const digit2 = document.getElementById('digit2').value;\n            const digit3 = document.getElementById('digit3').value;\n            const name = document.getElementById('name').value;\n            const email = document.getElementById('email').value;\n\n            if (!digit1 || !digit2 || !digit3 || !name || !email) {\n                showError('Please fill in all fields');\n                return;\n            }\n\n            if (!turnstileToken) {\n                showError('Please complete the security verification');\n                return;\n            }\n\n            const answer = [parseInt(digit1), parseInt(digit2), parseInt(digit3)];\n\n            try {\n                const response = await fetch('/api/submit', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        conference: '${conferenceId}',\n                        name: name,\n                        email: email,\n                        answer: answer,\n                        turnstileToken: turnstileToken\n                    })\n                });\n\n                const result = await response.json();\n\n                if (response.ok && result.success) {\n                    showSuccess(result.correct ? 'Correct answer!' : 'Answer submitted!');\n                } else {\n                    showError(result.error || 'Submission failed');\n                }\n            } catch (error) {\n                console.error('Submission error:', error);\n                showError('Network error. Please try again.');\n            }\n        });\n\n        function showSuccess(message) {\n            document.getElementById('successMessage').querySelector('p').textContent = message;\n            document.getElementById('successMessage').style.display = 'block';\n            document.getElementById('errorMessage').style.display = 'none';\n            document.getElementById('submitForm').style.display = 'none';\n        }\n\n        function showError(message) {\n            document.getElementById('errorText').textContent = message;\n            document.getElementById('errorMessage').style.display = 'block';\n            document.getElementById('successMessage').style.display = 'none';\n        }\n    </script>\n</body>\n</html>`;\n  return new Response(html, { headers: { 'Content-Type': 'text/html' } });\n}\n\nasync function handleWinnerWheel(url, env) {\n  const conferenceId = url.searchParams.get('conference') || 'default';\n\n  const confResp = await getConferenceStub(env, conferenceId).fetch('https://do/get');\n  if (!confResp.ok) {\n    return new Response('Conference not found', { status: 404 });\n  }\n\n  const conference = await confResp.json();\n\n  const subsResp = await getConferenceStub(env, conferenceId).fetch('https://do/submissions');\n  const allSubs = subsResp.ok ? await subsResp.json() : [];\n  const correctSubmissions = allSubs.filter(s => s.correct);\n\n  const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${conference.name} - Winner Selection</title>\n    <link rel=\"icon\" type=\"image/x-icon\" href=\"https://r2.lusostreams.com/puzzleicon.ico\">\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n\n        body {\n            font-family: Arial, sans-serif;\n            background: linear-gradient(135deg, #2d3436, #636e72);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 20px;\n        }\n\n        .wheel-container {\n            background: white;\n            border-radius: 20px;\n            padding: 30px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n            width: 100%;\n            text-align: center;\n            max-width: 1200px;\n        }\n\n        .header {\n            margin-bottom: 30px;\n        }\n\n        .header h1 {\n            color: #2d3436;\n            font-size: clamp(2.5rem, 5vw, 4rem);\n            margin-bottom: 10px;\n        }\n\n        .header p {\n            font-size: clamp(1.2rem, 3vw, 2rem);\n            color: #636e72;\n        }\n\n        .wheel {\n            width: min(60vw, 50vh);\n            height: min(60vw, 50vh);\n            border-radius: 50%;\n            position: relative;\n            margin: 30px auto;\n            border: 8px solid #2d3436;\n            transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99);\n            transform-origin: center center;\n            overflow: hidden;\n            background: #f0f0f0;\n        }\n\n        .wheel svg {\n            width: 100%;\n            height: 100%;\n        }\n\n        .wheel-text {\n            font-family: Arial, sans-serif;\n            font-weight: bold;\n            fill: white;\n            text-anchor: middle;\n            dominant-baseline: middle;\n        }\n\n        .wheel-pointer {\n            position: absolute;\n            top: -30px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 0;\n            height: 0;\n            border-left: 20px solid transparent;\n            border-right: 20px solid transparent;\n            border-top: 40px solid #ff6b35;\n            z-index: 10;\n            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));\n        }\n\n        .spin-btn {\n            background: linear-gradient(135deg, #ff6b35, #f7931e);\n            color: white;\n            border: none;\n            padding: clamp(15px, 3vh, 25px) clamp(30px, 6vw, 50px);\n            border-radius: 25px;\n            font-size: clamp(1.2rem, 4vw, 2rem);\n            font-weight: bold;\n            cursor: pointer;\n            transition: transform 0.2s;\n            margin: clamp(15px, 3vh, 30px);\n        }\n\n        .spin-btn:hover {\n            transform: translateY(-2px);\n        }\n\n        .spin-btn:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n        }\n\n        .participants {\n            background: #f8f9fa;\n            padding: 20px;\n            border-radius: 10px;\n            margin: 20px 0;\n        }\n\n        .participants h3 {\n            color: #2d3436;\n            margin-bottom: 15px;\n            font-size: clamp(1.5rem, 4vw, 2.5rem);\n        }\n\n        .participant-list {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n            gap: 10px;\n            max-height: 400px;\n            overflow-y: auto;\n            padding-right: 10px;\n        }\n\n        .participant {\n            background: white;\n            padding: 10px;\n            border-radius: 5px;\n            border-left: 3px solid #ff6b35;\n        }\n\n        .winner-display {\n            background: linear-gradient(135deg, #00b894, #00cec9);\n            color: white;\n            padding: 30px;\n            border-radius: 15px;\n            margin: 30px 0;\n            font-size: 2em;\n            font-weight: bold;\n            display: none;\n        }\n\n        .end-contest-btn {\n            background: linear-gradient(135deg, #e17055, #d63031);\n            color: white;\n            border: none;\n            padding: 15px 30px;\n            border-radius: 25px;\n            font-size: 1.2em;\n            font-weight: bold;\n            cursor: pointer;\n            transition: transform 0.2s;\n            margin: 20px;\n            display: none;\n        }\n\n        .end-contest-btn:hover {\n            transform: translateY(-2px);\n        }\n\n        .back-to-puzzle-btn {\n            background: transparent;\n            color: #74b9ff;\n            border: 1px solid #74b9ff;\n            padding: 8px 16px;\n            border-radius: 20px;\n            font-size: 0.9em;\n            cursor: pointer;\n            margin-top: 20px;\n            transition: all 0.3s ease;\n            opacity: 0.7;\n        }\n\n        .back-to-puzzle-btn:hover {\n            background: #74b9ff;\n            color: white;\n            opacity: 1;\n            transform: translateY(-1px);\n        }\n    </style>\n</head>\n<body>\n    <div class=\"wheel-container\">\n        <div class=\"header\">\n            <h1>\uD83C\uDF89 Winner Selection</h1>\n            <p>${conference.name}</p>\n        </div>\n\n        ${correctSubmissions.length > 0 ? `\n            <div style=\"position: relative;\">\n                <div class=\"wheel-pointer\"></div>\n                <div class=\"wheel\" id=\"wheel\">\n                    <!-- Wheel segments will be generated by JavaScript -->\n                </div>\n            </div>\n\n            <button class=\"spin-btn\" id=\"spinBtn\" onclick=\"spinWheel()\">\uD83C\uDFB2 SPIN THE WHEEL!</button>\n\n            <div class=\"winner-display\" id=\"winnerDisplay\">\n                <div id=\"winnerText\"></div>\n            </div>\n\n            <button class=\"end-contest-btn\" id=\"endContestBtn\" onclick=\"endContest()\">\uD83C\uDFC6 END CONTEST & SAVE WINNER</button>\n        ` : `\n            <div style=\"background: #e17055; color: white; padding: 30px; border-radius: 15px; margin: 30px 0;\">\n                <h3>No Correct Submissions Yet</h3>\n                <p>Wait for attendees to solve the puzzle correctly before selecting a winner.</p>\n            </div>\n        `}\n\n        <div class=\"participants\">\n            <h3>Correct Submissions (${correctSubmissions.length})</h3>\n            <div class=\"participant-list\">\n                ${correctSubmissions.map(sub => \n                    '<div class=\"participant\"><strong>' + sub.name + '</strong><br><small>' + sub.email + '</small></div>'\n                ).join('')}\n            </div>\n        </div>\n\n        <div style=\"text-align: center; margin: 30px 0;\">\n            <button class=\"back-to-puzzle-btn\" onclick=\"backToPuzzle()\">\u2190 Back to Puzzle Screen</button>\n        </div>\n    </div>\n\n    <script>\n        const participants = ${JSON.stringify(correctSubmissions)};\n        let isSpinning = false;\n\n        function createWheel() {\n            if (participants.length === 0) return;\n\n            const wheel = document.getElementById('wheel');\n            const colors = ['#ff6b35', '#f7931e', '#00b894', '#00cec9', '#6c5ce7', '#a29bfe', '#e17055', '#fd79a8', '#74b9ff', '#55a3ff'];\n            const segmentAngle = 360 / participants.length;\n            const radius = 150;\n            const centerX = 150;\n            const centerY = 150;\n\n            let svgHTML = '<svg viewBox=\"0 0 300 300\" xmlns=\"http://www.w3.org/2000/svg\">';\n\n            participants.forEach((participant, index) => {\n                const startAngle = (index * segmentAngle - 90) * Math.PI / 180;\n                const endAngle = ((index + 1) * segmentAngle - 90) * Math.PI / 180;\n                \n                const x1 = centerX + radius * Math.cos(startAngle);\n                const y1 = centerY + radius * Math.sin(startAngle);\n                const x2 = centerX + radius * Math.cos(endAngle);\n                const y2 = centerY + radius * Math.sin(endAngle);\n                \n                const largeArcFlag = segmentAngle > 180 ? 1 : 0;\n                \n                const pathData = [\n                    'M', centerX, centerY,\n                    'L', x1, y1,\n                    'A', radius, radius, 0, largeArcFlag, 1, x2, y2,\n                    'Z'\n                ].join(' ');\n                \n                const color = colors[index % colors.length];\n                svgHTML += '<path d=\"' + pathData + '\" fill=\"' + color + '\" stroke=\"#fff\" stroke-width=\"1\"/>';\n                \n                // Add text with dynamic sizing\n                const textAngle = (startAngle + endAngle) / 2;\n                const textRadius = radius * 0.7;\n                const textX = centerX + textRadius * Math.cos(textAngle);\n                const textY = centerY + textRadius * Math.sin(textAngle);\n                \n                // Calculate appropriate font size based on slice size\n                // For many participants, use smaller text; for few participants, use larger text\n                let fontSize;\n                if (participants.length > 100) {\n                    fontSize = Math.max(6, 120 / participants.length);\n                } else if (participants.length > 50) {\n                    fontSize = Math.max(8, 150 / participants.length);\n                } else if (participants.length > 20) {\n                    fontSize = Math.max(10, 200 / participants.length);\n                } else {\n                    fontSize = Math.max(12, 240 / participants.length);\n                }\n                \n                // Always show full first and last name, but adjust length based on space\n                let displayName;\n                if (participants.length > 80) {\n                    // For very crowded wheels, show abbreviated full name\n                    const nameParts = participant.name.split(' ');\n                    if (nameParts.length >= 2) {\n                        displayName = nameParts[0] + ' ' + nameParts[nameParts.length - 1];\n                    } else {\n                        displayName = participant.name;\n                    }\n                    // Truncate if still too long\n                    if (displayName.length > 12) {\n                        displayName = displayName.substring(0, 10) + '\u2026';\n                    }\n                } else if (participants.length > 40) {\n                    // For crowded wheels, show full name with moderate truncation\n                    displayName = participant.name.length > 15 ? \n                        participant.name.substring(0, 13) + '\u2026' : \n                        participant.name;\n                } else {\n                    // For less crowded wheels, show full name with generous truncation\n                    displayName = participant.name.length > 20 ? \n                        participant.name.substring(0, 18) + '\u2026' : \n                        participant.name;\n                }\n                \n                const textRotation = (textAngle * 180 / Math.PI);\n                const finalRotation = textRotation > 90 && textRotation < 270 ? textRotation + 180 : textRotation;\n                \n                svgHTML += '<text x=\"' + textX + '\" y=\"' + textY + '\" class=\"wheel-text\" font-size=\"' + fontSize + '\" transform=\"rotate(' + finalRotation + ' ' + textX + ' ' + textY + ')\">' + displayName + '</text>';\n            });\n\n            svgHTML += '</svg>';\n            wheel.innerHTML = svgHTML;\n        }\n\n        let selectedWinner = null;\n\n        function spinWheel() {\n            if (isSpinning || participants.length === 0) return;\n\n            isSpinning = true;\n            document.getElementById('spinBtn').disabled = true;\n            document.getElementById('spinBtn').textContent = '\uD83C\uDFB2 SPINNING...';\n            document.getElementById('winnerDisplay').style.display = 'none';\n            document.getElementById('endContestBtn').style.display = 'none';\n\n            const wheel = document.getElementById('wheel');\n\n            wheel.style.transition = 'none';\n            wheel.style.transform = 'rotate(0deg)';\n            wheel.offsetHeight;\n\n            wheel.style.transition = 'transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99)';\n\n            const baseSpins = 8 + Math.random() * 4;\n            const randomAngle = Math.random() * 360;\n            const finalRotation = (baseSpins * 360) + randomAngle;\n\n            wheel.style.transform = 'rotate(' + finalRotation + 'deg)';\n\n            setTimeout(() => {\n                const segmentAngle = 360 / participants.length;\n                const normalizedRotation = finalRotation % 360;\n                const segmentAt12OClock = Math.floor((360 - normalizedRotation) / segmentAngle);\n                const winnerIndex = segmentAt12OClock % participants.length;\n\n                const winner = participants[winnerIndex];\n                selectedWinner = winner;\n\n                const colors = ['#ff6b35', '#f7931e', '#00b894', '#00cec9', '#6c5ce7', '#a29bfe', '#e17055', '#fd79a8', '#74b9ff', '#55a3ff'];\n                const winnerColor = colors[winnerIndex % colors.length];\n\n                document.getElementById('winnerText').innerHTML = \n                    '\uD83C\uDFC6 WINNER: ' + winner.name + '<br><small>' + winner.email + '</small>';\n                const winnerDisplay = document.getElementById('winnerDisplay');\n                winnerDisplay.style.background = winnerColor;\n                winnerDisplay.style.display = 'block';\n                document.getElementById('endContestBtn').style.display = 'inline-block';\n\n                isSpinning = false;\n                document.getElementById('spinBtn').disabled = false;\n                document.getElementById('spinBtn').textContent = '\uD83C\uDFB2 SPIN AGAIN!';\n            }, 3000);\n        }\n\n        async function endContest() {\n            if (!selectedWinner) {\n                alert('Please spin the wheel first to select a winner!');\n                return;\n            }\n\n            if (!confirm('Are you sure you want to end this contest and save ' + selectedWinner.name + ' as the winner?')) {\n                return;\n            }\n\n            try {\n                const response = await fetch('/api/end-contest', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        conferenceId: '${conferenceId}',\n                        winner: selectedWinner\n                    })\n                });\n\n                if (response.ok) {\n                    alert('Contest ended successfully! ' + selectedWinner.name + ' has been saved as the winner.');\n                    document.getElementById('spinBtn').style.display = 'none';\n                    document.getElementById('endContestBtn').style.display = 'none';\n\n                    const winnerDisplay = document.getElementById('winnerDisplay');\n                    if (winnerDisplay) {\n                        winnerDisplay.innerHTML = '<h2>\uD83C\uDF89 Contest Ended! \uD83C\uDF89</h2><p>Winner: <strong>' + selectedWinner.name + '</strong></p><p>Thank you all for participating!</p>';\n                    }\n                } else {\n                    alert('Error ending contest. Please try again.');\n                }\n            } catch (error) {\n                alert('Error ending contest. Please try again.');\n            }\n        }\n\n        if (participants.length > 0) {\n            createWheel();\n        }\n\n        async function backToPuzzle() {\n            if (confirm('Switch back to puzzle display?')) {\n                try {\n                    const response = await fetch('/api/admin/${conferenceId}/switch-to-puzzle', {\n                        method: 'POST'\n                    });\n\n                    if (response.ok) {\n                        window.location.href = '/puzzle?conference=${conferenceId}';\n                    } else {\n                        alert('Failed to switch display mode. Please try again.');\n                    }\n                } catch (error) {\n                    console.error('Error switching to puzzle:', error);\n                    alert('Error switching display mode. Please try again.');\n                }\n            }\n        }\n    </script>\n</body>\n</html>`;\n  return new Response(html, { headers: { 'Content-Type': 'text/html' } });\n}\n\nasync function handleFinishContest(request, env) {\n  return new Response('Deprecated', { status: 410 });\n}\n\nasync function handleEndContest(request, env) {\n  if (request.method !== 'POST') {\n    return new Response('Method not allowed', { status: 405 });\n  }\n\n  try {\n    const { conferenceId, winner } = await request.json();\n    const resp = await getConferenceStub(env, conferenceId).fetch('https://do/end-contest', { method: 'POST', body: JSON.stringify({ winner }) });\n    if (!resp.ok) return new Response(await resp.text(), { status: resp.status });\n    return new Response(JSON.stringify({ success: true }), { headers: { 'Content-Type': 'application/json' } });\n  } catch (error) {\n    console.error('Error ending contest:', error);\n    return new Response('Internal server error', { status: 500 });\n  }\n}\n\nasync function handlePopulateTestData(request, env) {\n  if (request.method !== 'POST') {\n    return new Response('Method not allowed', { status: 405 });\n  }\n\n  try {\n    const { conferenceId, region, count, correctPercentage } = await request.json();\n    \n    // Default parameters\n    const submissionCount = count || 130;\n    const correctRate = correctPercentage || 88;\n    \n    // Name sets for different regions\n    const namesByRegion = {\n      portuguese: [\n        'Jo\u00E3o Silva', 'Maria Santos', 'Ant\u00F3nio Ferreira', 'Ana Costa', 'Carlos Oliveira',\n        'Catarina Rodrigues', 'Pedro Almeida', 'Sofia Pereira', 'Miguel Carvalho', 'In\u00EAs Martins',\n        'Ricardo Sousa', 'Beatriz Fernandes', 'Nuno Gon\u00E7alves', 'Mariana Ribeiro', 'Tiago Lopes',\n        'Leonor Pinto', 'Bruno Correia', 'Rita Moreira', 'Diogo Teixeira', 'Francisca Dias'\n      ],\n      dutch: [\n        'Jan de Jong', 'Emma van der Berg', 'Daan Bakker', 'Sophie Janssen', 'Lucas Visser',\n        'Lotte de Vries', 'Milan Smit', 'Fleur Mulder', 'Sem de Boer', 'Noa Bos',\n        'Finn van Leeuwen', 'Zo\u00EB Vos', 'Levi Hendriks', 'Isa van den Berg', 'Noah Peters',\n        'Mila Dekker', 'Bram Willems', 'Eva van der Meer', 'Lars Verhoeven', 'Sara de Wit'\n      ],\n      english: [\n        'James Smith', 'Emily Johnson', 'Michael Williams', 'Sarah Brown', 'David Jones',\n        'Emma Davis', 'Daniel Miller', 'Olivia Wilson', 'Matthew Moore', 'Sophie Taylor',\n        'Joshua Anderson', 'Charlotte Thomas', 'Andrew Jackson', 'Amelia White', 'Christopher Harris',\n        'Isabella Martin', 'Ryan Thompson', 'Grace Garcia', 'Benjamin Martinez', 'Lily Robinson'\n      ],\n      spanish: [\n        'Alejandro Garc\u00EDa', 'Mar\u00EDa Rodr\u00EDguez', 'David L\u00F3pez', 'Carmen Mart\u00EDnez', 'Jos\u00E9 Gonz\u00E1lez',\n        'Ana S\u00E1nchez', 'Manuel P\u00E9rez', 'Laura G\u00F3mez', 'Francisco Mart\u00EDn', 'Elena Jim\u00E9nez',\n        'Antonio Ruiz', 'Pilar Hern\u00E1ndez', 'Carlos D\u00EDaz', 'Isabel Moreno', 'Miguel Mu\u00F1oz',\n        'Cristina \u00C1lvarez', 'Rafael Romero', 'Beatriz Guti\u00E9rrez', 'Fernando Navarro', 'Silvia Torres'\n      ],\n      turkish: [\n        'Mehmet Y\u0131lmaz', 'Ay\u015Fe Kaya', 'Mustafa Demir', 'Fatma \u015Eahin', 'Ahmet \u00C7elik',\n        'Emine Y\u0131ld\u0131z', 'Ali Ayd\u0131n', 'Hatice \u00D6zkan', 'H\u00FCseyin Arslan', 'Zeynep Do\u011Fan',\n        '\u0130brahim K\u0131l\u0131\u00E7', 'Meryem Aslan', '\u00D6mer Polat', 'Elif Ko\u00E7', 'Yusuf \u015Een',\n        'B\u00FC\u015Fra \u00C7ak\u0131r', 'Osman \u00D6zt\u00FCrk', 'Seda Erdo\u011Fan', 'Emre G\u00FCne\u015F', 'Gamze Yavuz'\n      ],\n      polish: [\n        'Jan Kowalski', 'Anna Nowak', 'Piotr Wi\u015Bniewski', 'Maria W\u00F3jcik', 'Krzysztof Kowalczyk',\n        'Katarzyna Kami\u0144ska', 'Andrzej Lewandowski', 'Barbara Zieli\u0144ska', 'Tomasz Szyma\u0144ski', 'Agnieszka Wo\u017Aniak',\n        'Marcin D\u0105browski', 'Magdalena Koz\u0142owska', 'Pawe\u0142 Jankowski', 'Monika Mazur', 'Micha\u0142 Krawczyk',\n        'Joanna Piotrowski', 'Robert Grabowski', 'Ewa Nowakowska', 'Rafa\u0142 Paw\u0142owski', 'Aleksandra Michalska'\n      ],\n      american: [\n        'John Smith', 'Jennifer Johnson', 'Michael Brown', 'Jessica Davis', 'Robert Miller',\n        'Ashley Wilson', 'William Moore', 'Amanda Taylor', 'David Anderson', 'Stephanie Thomas',\n        'Christopher Jackson', 'Melissa White', 'Matthew Harris', 'Sarah Martin', 'Joshua Thompson',\n        'Nicole Garcia', 'Daniel Martinez', 'Elizabeth Robinson', 'Anthony Clark', 'Heather Rodriguez'\n      ]\n    };\n    \n    // Determine which names to use\n    const selectedNames = namesByRegion[region] || namesByRegion.portuguese;\n\n    // Get conference to know the correct answer\n    const confResp = await getConferenceStub(env, conferenceId).fetch('https://do/get');\n    if (!confResp.ok) {\n      return new Response('Conference not found', { status: 404 });\n    }\n    const conference = await confResp.json();\n    const correctAnswer = conference.puzzle.solution;\n\n    // Calculate submission counts\n    const correctCount = Math.floor(submissionCount * (correctRate / 100));\n    const incorrectCount = submissionCount - correctCount;\n\n    let actualSubmissionCount = 0;\n\n    // Add correct submissions\n    for (let i = 0; i < correctCount; i++) {\n      const name = selectedNames[i % selectedNames.length];\n      // Generate appropriate email domain based on region\n      let emailDomain;\n      switch(region) {\n        case 'dutch': emailDomain = 'example.nl'; break;\n        case 'english': emailDomain = 'example.co.uk'; break;\n        case 'spanish': emailDomain = 'ejemplo.es'; break;\n        case 'turkish': emailDomain = 'ornek.tr'; break;\n        case 'polish': emailDomain = 'przyklad.pl'; break;\n        case 'american': emailDomain = 'example.com'; break;\n        default: emailDomain = 'exemplo.pt';\n      }\n      \n      const email = `${name.toLowerCase().replace(/\\s+/g, '.').replace(/[\u00E1\u00E0\u00E2\u00E3\u00E4\u00E5]/g, 'a').replace(/[\u00E9\u00EA\u00EB\u00E8]/g, 'e').replace(/[\u00ED\u00EE\u00EF\u00EC]/g, 'i').replace(/[\u00F3\u00F4\u00F5\u00F6\u00F2]/g, 'o').replace(/[\u00FA\u00FB\u00FC\u00F9]/g, 'u').replace(/[\u00E7]/g, 'c').replace(/[\u00F1]/g, 'n').replace(/[\u015F]/g, 's').replace(/[\u011F]/g, 'g').replace(/[\u0131]/g, 'i').replace(/[\u0142]/g, 'l').replace(/[\u0105]/g, 'a').replace(/[\u0119]/g, 'e').replace(/[\u0107]/g, 'c').replace(/[\u0144]/g, 'n').replace(/[\u015B]/g, 's').replace(/[\u017A]/g, 'z').replace(/[\u017C]/g, 'z')}${i > selectedNames.length ? i : ''}@${emailDomain}`;\n      \n      const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submit', { \n        method: 'POST', \n        body: JSON.stringify({ \n          name, \n          email, \n          answer: correctAnswer \n        }) \n      });\n      \n      if (resp.ok) actualSubmissionCount++;\n    }\n\n    // Add incorrect submissions\n    for (let i = 0; i < incorrectCount; i++) {\n      const name = selectedNames[(correctCount + i) % selectedNames.length];\n      \n      // Generate appropriate email domain\n      let emailDomain;\n      switch(region) {\n        case 'dutch': emailDomain = 'example.nl'; break;\n        case 'english': emailDomain = 'example.co.uk'; break;\n        case 'spanish': emailDomain = 'ejemplo.es'; break;\n        case 'turkish': emailDomain = 'ornek.tr'; break;\n        case 'polish': emailDomain = 'przyklad.pl'; break;\n        case 'american': emailDomain = 'example.com'; break;\n        default: emailDomain = 'exemplo.pt';\n      }\n      \n      const email = `${name.toLowerCase().replace(/\\s+/g, '.').replace(/[\u00E1\u00E0\u00E2\u00E3\u00E4\u00E5]/g, 'a').replace(/[\u00E9\u00EA\u00EB\u00E8]/g, 'e').replace(/[\u00ED\u00EE\u00EF\u00EC]/g, 'i').replace(/[\u00F3\u00F4\u00F5\u00F6\u00F2]/g, 'o').replace(/[\u00FA\u00FB\u00FC\u00F9]/g, 'u').replace(/[\u00E7]/g, 'c').replace(/[\u00F1]/g, 'n').replace(/[\u015F]/g, 's').replace(/[\u011F]/g, 'g').replace(/[\u0131]/g, 'i').replace(/[\u0142]/g, 'l').replace(/[\u0105]/g, 'a').replace(/[\u0119]/g, 'e').replace(/[\u0107]/g, 'c').replace(/[\u0144]/g, 'n').replace(/[\u015B]/g, 's').replace(/[\u017A]/g, 'z').replace(/[\u017C]/g, 'z')}${correctCount + i > selectedNames.length ? correctCount + i : ''}@${emailDomain}`;\n      \n      // Generate random incorrect answer\n      const incorrectAnswer = [\n        Math.floor(Math.random() * 10),\n        Math.floor(Math.random() * 10),\n        Math.floor(Math.random() * 10)\n      ];\n      \n      // Ensure it's actually incorrect\n      if (JSON.stringify(incorrectAnswer) === JSON.stringify(correctAnswer)) {\n        incorrectAnswer[0] = (incorrectAnswer[0] + 1) % 10;\n      }\n      \n      const resp = await getConferenceStub(env, conferenceId).fetch('https://do/submit', { \n        method: 'POST', \n        body: JSON.stringify({ \n          name, \n          email, \n          answer: incorrectAnswer \n        }) \n      });\n      \n      if (resp.ok) actualSubmissionCount++;\n    }\n\n    return new Response(JSON.stringify({ \n      success: true, \n      message: `Added ${actualSubmissionCount} submissions to conference ${conferenceId}`,\n      correctSubmissions: correctCount,\n      incorrectSubmissions: incorrectCount,\n      region: region || 'portuguese'\n    }), { \n      headers: { 'Content-Type': 'application/json' } \n    });\n\n  } catch (error) {\n    console.error('Error populating test data:', error);\n    return new Response('Internal server error', { status: 500 });\n  }\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/miguelcaetanodias/Documents/Projects/cloudflare-booth-puzzle-do-version/src/worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/miguelcaetanodias/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/miguelcaetanodias/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/miguelcaetanodias/Documents/Projects/cloudflare-booth-puzzle-do-version/src/worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/miguelcaetanodias/Documents/Projects/cloudflare-booth-puzzle-do-version/.wrangler/tmp/bundle-3ygP7P/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/miguelcaetanodias/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/miguelcaetanodias/Documents/Projects/cloudflare-booth-puzzle-do-version/.wrangler/tmp/bundle-3ygP7P/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/miguelcaetanodias/Documents/Projects/cloudflare-booth-puzzle-do-version/.wrangler/tmp/bundle-3ygP7P/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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CA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,IAAI;AACJ,IAAM,WAAW;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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AM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCA4PqBA,KAAI,uBAAuB,EAAE;AAAA,wCACzBA,KAAI,2BAA2B,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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",
  "names": ["PerformanceMark", "clear", "count", "countReset", "createTask", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeLog", "timeStamp", "trace", "warn", "hrtime", "Socket", "Socket", "dir", "env", "count", "cwd", "hrtime", "assert", "env", "count", "env", "error", "count", "env", "env", "error", "env", "env"]
}
